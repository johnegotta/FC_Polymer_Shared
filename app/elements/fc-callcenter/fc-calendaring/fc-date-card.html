<dom-module id="fc-date-card">
 
<style>
 :host{
          margin: 2px;
          min-width: 100px;
          max-width: 1300px;
          min-height: 120px;
          max-height: 1300px;
         /*//position: fixed; */
        }
  form {
      display: flex;
      flex-direction: row;
      margin-bottom: 20px;
    }
     paper-header-panel {
        float: left;
        background: white;
        max-width: 1280px;
        min-width: 88px;
        max-height: 1280px;
        min-height: 112px;
        margin: 2px;
        border: 4px solid #efefef;
        @apply(--shadow-elevation-2dp);
      }
      .paper-header {
        height: 36px;
        font-size: 22px;
        line-height: 30px;
        padding: 4px;
        color: white;
        transition: height 0.2s;
      }
      .paper-header.tall {
        height: 60px;
      }
      .paper-header.medium-tall {
        height: 48px;
        line-height: 40px;
      }
      .content {
        height: 2500px;
      }
      .cover {
        margin: 2px;
      }
      .blue .paper-header {
        background-color: var(--paper-light-blue-500);
      }
      .red .paper-header {
        background-color: var(--paper-red-500);
      }
      .orange .paper-header {
        background-color: var(--paper-amber-500);
      }
      .green .paper-header {
        background-color: var(--paper-green-500);
      }
      .cyan .paper-header {
        background-color: var(--paper-cyan-500);
      }
      .lime .paper-header {
        background-color: var(--paper-lime-500);
      }
      .pink .paper-header {
        background-color: var(--paper-pink-a200);
      }
.toDoItem paper-icon-button[icon=delete]{
			-webkit-transition: opacity 0.5s;
			transition: opacity 0.5s;
			opacity: 0;
		}
		.toDoItem:hover paper-icon-button[icon=delete]{
			opacity: 100;
		}

		paper-button {
		  flex-shrink: 1;
		}
		paper-input {
		  flex-grow: 1;
		}

		checkbox {
		  display: inline-block;
		  margin: 1px 0;
		  transition: opacity 0.3s;
		}

		paper-checkbox[checked] + .label {
		  opacity: 0.5;
		  text-decoration: line-through;
		}
	
   .content {
           padding-bottom: 145px;
           margin-bottom: 45px;
      }
      .red .content {
        background: linear-gradient(white, #ffcdd2);
      }
      .orange .content {
        background: linear-gradient(white, #ffecb3);
      }
      .green .content {
        background: linear-gradient(white, #c8e6c9);
      }
      .cyan .content {
        background: linear-gradient(white, #b2ebf2);
      }
      .lime .content {
        background: linear-gradient(white, #f0f4c3);
      }
      .pink .content {
        background: linear-gradient(white, #f8bbd0);
      }
</style>
<template>
<form>

  <paper-header-panel id="focusedDateCard" drags="true" id$="{{relId}}" style="height: [[_computeCurrentHeight(isMini)]]; padding-right: 2px;" class="blue">


     <div class="paper-header" style="text-align: center;padding-right: 2px;">     
        <section class="layout horizontal nowrap"  > 
              <section class="vertical flex-9 layout" style="text-align: center;">[[computePrettyDay(day)]]</section>
             <section class="horizontal flex-2 layout" style="font-size:9px;">Open<iron-icon icon="icons:swap-vertical-circle"></iron-icon></section> 
             
        </section>
     </div>
  
        <div class="content">
      <template is="dom-repeat" items="{{times}}" as="time">
            <paper-item hidden$="{{eventHidden}}" style="padding-left: 0px;">
                  [[time.hour]]:[[time.halfhour]]0[[time.ampm]]<fc-input-prime input-type="text" style="display: inline-block;whitespace: nowrap;" name="[[datetime.locale]]" class="nowrap" is-inline="true" name$="[[time.hour]]:[[time.halfhour]]0[[time.ampm]]">
                  </fc-input-prime><span style="opacity:0;" hidden$=[[time.space]]>&nbsp</span>
                  <fc-input-prime class="layout-end" style="margin-right: 0px; padding-right: 0px;" input-type="checkbox" label="Add" name="changeSchedule">
                  </fc-input-prime>
            </paper-item>
  
         </template> 

           	
		</div>

</paper-header-panel>
</form>
</template>
    <script>
FcDateCard=Polymer({
	is:'fc-date-card',

	properties: {
		drags:{
			type: Boolean, 
			value: false,
			notify: true
		},
    times:{
      type: Array,
      value: function(){
          var timeArr = [];
          j=0;
        for(var i=12; i<=48;i++){
              var hour=(Math.floor(i/2) <13)?Math.floor(i/2):(Math.floor(i/2)-12);
              var j=false;
              j=(i>47)?true:false;
              if(hour<10){hour='0'+hour.toString();}
              var space=(i<20)?true: false;
              var halfhour=(i%2==0)?0:3;
              var ampm=(i<24)?"am":(j==true)?"am":"pm";
              var tobj = {"hour": hour,
                          "halfhour": halfhour,
                          "ampm": ampm, 
                          "space": space
                        };
              
              timeArr.push(tobj);
            //console.log(timeArr);
          }
          return timeArr;
        },
      notify: true,
    },
    eventHidden:{
      type: Boolean,
      value: false,
      notify: true
    },
		isResizing: {
			type: Boolean,
			value: false, 
			notify: true
		},
    notFixed:{
      type: Boolean,
      value: function(){return true;},
      notify: true
    },
		isAddingEvent: {
			type: Boolean,
			value: false,
			notify: true
		},
		inputValue: {
				type: String,
				notify: true,
				reflectToAttribute: true

		},

  selectionArray: {
        type: Array,
        value: function(){
          return [
                'first', 
                'second', 
                'third', 
                'fourth'
          ];
        },
        notify: true
      },
      isMini: {
        type: Boolean,
        value: false,
        notify: true,
        reflectToAttribute: true
      },
      selected: {
        type: String,
        notify: true
      },
      currentWidth: {
          type: String, 
          value: function(){
                    return '320px';
              },
          notify: true, 
          reflectToAttribute: true
      },
      currentHeight: {
          type: String, 
     	  computed: "_computeCurrentHeight(isMini)",
          notify: true, 
          reflectToAttribute: true
      },
      day:{
      		type: Date,
      		notify: true,
      		reflectToAttribute: true
      },
      theId: {
      	type: String, 
      	notify: true,
      },
      id:{
      	type: String,
      	computed: "_computeId(theId, day)",
      	notify: true
      }
      
    },
    attached: function(){
    	// this.center();
    	
    },
    computePrettyDay: function(day)
  {
      var result = day.toDateString();

      
      return result;
  },
   
    _computeCurrentHeight: function(isMini){
      if(isMini==true)
      {   
        return "70px";   
      }
      else{ return "360px";}
    },
    _computeId: function(theId, day){
    	//console.log(theId, day, day, day, day, theId);
    },
    computeSelected: function(selectionArray){
      return "[name=first]";
  
    },
    _computeRelId: function(day){
    	 var dayId	= day.replaceAll("\\s+","");
    	 //console.log(dayId, dayId, dayId, dayId);
    	 return dayId;
    },
    computeId:function(theId){
    	//console.log(theId, theId, theId, theId, theId, theId);
    },
});
</script>
</dom-module>

<!-- 

<template>
  <style>
    form {
      display: flex;
      flex-direction: row;
      align-items: center;
      margin-bottom: 20px;
    }
    .eventItem, paper-icon-button[icon=delete]{
      -webkit-transition: opacity 0.5s;
      transition: opacity 0.5s;
      opacity: 0;
    }
    .eventItem:hover paper-icon-button[icon=delete]{
      opacity: 100;
    }
    .eventTime{}
    .eventTime:hover {}

    paper-button {
      flex-shrink: 1;
    }
    paper-input {
      flex-grow: 1;
    }

    paper-checkbox {
      display: inline-block;
      margin: 5px 0;
      transition: opacity 0.3s;
    }

    paper-checkbox[checked] + .label {
      opacity: 0.5;
      text-decoration: line-through;
    }
  </style>
    <firebase-auth
        location="[[firebaseURL]]"
        provider="[[firebaseProvider]]"
        on-login="onFirebaseLogin"
        on-logout="onFirebaseLogout">
    </firebase-auth>
    <paper-toast id="errorToast">
    </paper-toast>
    <form on-submit="addItem">
          <paper-input 
            value="{{newItemValue}}" 
            placeholder="Enter your item here...">
          </paper-input>
          <paper-button on-click="addItem">
            Add
          </paper-button>
      </form>
      <template is="dom-repeat" items="{{toDos}}">
          <div class="toDoItem">
            <paper-checkbox
              on-change="toggleItem"
                checked="{{item.done}}"></paper-checkbox>
              <span class="label">[[item.text]]</span>
              <paper-icon-button
              icon="delete" 
                on-tap="deleteItem">
              </paper-icon-button>
          </div>
      </template>
  </template>
  <script>
  Polymer({
    is: 'fc-to-do-list',
    properties: {
      toDos: {
        type: Array,
        value: function(){
          return [  { 
                text: 'Write a TODO app', 
                done: false
                },
                {
                text: 'Use Firebase',
                done: false
                }
              ];
          },
        notify: true
        },
      item: {
        type: Object,
        value: {
          done: false,
          text: String,
          },
        notify: true
        },
      firebaseURL: {
        type: String, 
        value: "https://focused0ne.firebaseio.com/toDoLists",
        notify: true
        },
      firebaseProvider: {
        type: String,
        value: 'password',
        notify: true
        },
      completedItems:{
        type: Array,
        computed: 'computeCompletedItems(completedItem, item)',
        notify: true
      },
      completedItem:{
        type: Object, 
        value: {
          done: true,
          dateStarted: Date,
          dateCompleted: Date, 
          userFullName: function(){return 'Jason C. Frazzano';},
          notes: String
        },
        notify: true
        }
      },
    addItem: function(event) {
        event.preventDefault(); // Don't send the form!
        this.push('toDos', {
          done: false,
          text: newItemValue
      });
        this.newItemValue = '';
    },

    toggleItem: function(event) {
        event.model.item.set('done', !event.model.item.done);
    },

    deleteItem: function(event) {
        this.splice('toDos', event.model.index, 1);
    },

    computeCompletedItems: function(event, completedItem, item){
      return {"silly": "object"};
    },

    onFirebaseLogin: function(event) {
        this.ref = new Firebase(this.firebaseURL + '/users/' + 
                                                      event.detail.user.uid);
        this.ref.on('value', function(snapshot) {
          this.updateToDos(snapshot);
        }.bind(this));
    },

    onFirebaseError: function(event) {
        this.$.errorToast.text = event.detail.message;
        this.$.errorToast.show();
          },
  
    onFirebaseLogout: function(event) {
      this.updateToDos();
    },

    updateToDos: function(snapshot) {
        this.toDos = [];
        snapshot.forEach(function(childSnapshot) {
          var item = childSnapshot.val();
          item.uid = childSnapshot.key();
          this.push('toDos', item);
        }.bind(this));
    },

    addItem: function(event) {
        event.preventDefault();
        this.ref.push({
          'done': false,
          'text': this.newItemValue
        });
        this.newItemValue = '';
    },

    toggleItem: function(event) {
        this.ref.child(event.model.item.uid).
          update({done: event.model.item.done});
    },

    deleteItem: function(event) {
        this.ref.child(event.model.item.uid).remove();
    }
  }); -->