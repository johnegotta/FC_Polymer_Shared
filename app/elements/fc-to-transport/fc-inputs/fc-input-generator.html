<dom-module id="fc-input-generator">
<template>
<style>
</style>

<section style="padding: 8px 4px 8px 4px; margin: 2px 2px 2px 2px; min-width: 214px;" class$="layout flex justified-around {{orientation}}">
<template is="dom-repeat" items="{{_computeDataset(dataobject.*)}}">
	<fc-input-prime
		input-type="{{item.inputType}}" 
		label="{{item.label}}" 
		name$="{{item.name}}"
		min="{{item.min}}"
		max="{{item.max}}"
		value="{{item.value}}"
		option-one="{{item.optionOne}}"
        option-two="{{item.optionTwo}}"
        option-three="{{item.optionThree}}"
        option-four="{{item.optionFour}}"
        option-five="{{item.optionFive}}"
        option-six="{{item.optionSix}}"
        option-seven="{{item.optionSeven}}"
        option-eight="{{item.optionEight}}"
        option-nine="{{item.optionNine}}"
        option-ten="{{item.optionTen}}"
        class$="{{item.class}}"
        min="{{item.min}}"
        max="{{item.max}}"
        step="{{item.step}}"
        fcid="{{item.fcid}}"
        on-change="handleInputChange"
       >
	</fc-input-prime>
</template>
</section>		
</template>
<script>
FcClobjid=Polymer({
	is:"fc-input-generator",
	properties:{
		dataobject: {
			type: Object,
			notify: true
		},
        orientation: {
            value: String,
        }, 
        converted: {
            type: Boolean,
            value: function(){return false;},
            notify: true
        }
	},

	attached: function(){
		console.log(this.dataobject);
        console.log(this.orientation);
        this.orientation = this.orientation==""? "horizontal": this.orientation;
	},

    handleInputChange: function(e)
    {
        //console.log(e.target);
        this.dataobject[e.target.name].value = e.target.value;
    },

    convertDataObject: function()
    {   if(!this.converted)
        {   var result= {};
            var keys=Object.keys(this.dataobject);
            var counter =keys.length;
            for(var i=0;i<counter; i++)
            {
                var key = keys[i];
                result[key]={"name": key, "label": key, "value": this.dataobject[key], inputType:"",}


            }



        }

    








    }

    _computeDataset: function(dataobject)
    {
        var keys = Object.keys(this.dataobject);
        var numKeys = keys.length;
        var dataset = [];
        for(var i = 0; i < numKeys; i++)
        {
            var val = this.dataobject[keys[i]];
            //console.log(keys[i], val);
            dataset.push({
                "value": val.value,
                "name": val.name, //keys[i], //"tenth",
                "label": val.label?val.label: val.name[0], //keys[i][0], //"d",
                "inputType": val.inputType, //"digit",
                "optionOne": "",
                "optionTwo": "",
                "optionThree": "",
                "optionFour": "",
                "optionFive": "",
                "optionSix": "",
                "optionSeven": "",
                "optionEight": "",
                "optionNine": "",
                "optionTen": "",
                "class": "",
                "min": val.inputType == "digit"? 0: 0,
                "max": val.inputType == "digit"? 9: 99,
                "step":"",
                "fcid":""})
        }
        return dataset;
    },
});
</script>
</dom-module>