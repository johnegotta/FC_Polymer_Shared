<dom-module id="fc-calendar-day-back">
<template>
<style>
.primary{

	color: #008;
	font-weight:600;
	font-size: 13.5px;
	width: 197px;
	
}
.secondary{
		color: grey;
	font-weight:500;
	font-size: 11px;
	margin-top: 11px;
	padding: 0 4px;
	width: 50px;


}	
iron-icon .small {
	height: 14px!important;
	width:14px!important;
}
.scheduling{padding: 0px 5px;}
.header-class{min-height: 35px !important; max-height: 55px !important; height: 100%;}
.selected{}
</style>
	<div class="vertical layout" id="swipable" style="border: silver 2px solid; height: 380px; width:260px!important;">
			<section class="header-class layout horizontal" style="height: 44px!important;color: white; font-size:18px; font-weight: 600; background: #008; padding-top: 6px; text-align: center; font-family: merriweather;">
					 <section class="buttons flex-1" on-tap="changeEvent" style="border-radius:180px;">
					<iron-icon class="small" style="height: 16px!important;width:16px!important; border-radius:180px; color: white; background: red;"icon="icons:remove-circle">
						</iron-icon>
					</section>
					<section class="flex-7" style="text-align: center; padding: 8px 2px 2px 6px;">
					[[_computeDate(calDay.showDate)]]	[[_computeDate(calDay.calendarDay.showDate)]]	
					 [[day.username]]	
					 </section>
					 <section class="buttons flex-1" on-tap="changeEvent" style="border-radius:180px;">
					<iron-icon class="small" style="height: 16px!important;width:16px!important; border-radius:180px; color: white; background: silver;"icon="icons:add-circle-outline">
						</iron-icon>
					</section>
			</section>
			<paper-listbox class="layout vertical slides" style="overflow-y: scroll;">
				<template is="dom-repeat" limit-to="7"  items="{{calDay.calendarDay.eventList}}" as="slot">
								<fc-event-item event="{{slot}}" calendar-day="{{calDay.calendarDay}}" date="{{calDay.calendarDay.date}}" event-list="{{calDay.calendarDay.eventList}}">
								</fc-event-item>
							</template>
				<!-- <content group="group" class="pickle group handle" ></content> -->

			</paper-listbox>	
		</div>
</template>
<script>
FcCalendarDayBack=Polymer({
	is:"fc-calendar-day-back",
	behaviors:
		[
			"FCBehaviors.FcCalendarBehaviorPrime"
		],
	observers:[],
	listeners:{},
	properties:
	{
		fcCourse:{
			type: FcCourse, 
			value: function()
			{
				var course = {};
				course = new FcCourse();
				return course;
			},
			notify: true,
		},
		calendarDay:{
			type: FcCalendarDay,
			observer: "observeCalendarDay",
			notify: true

		},
		calDay:{
			type: FcCalendarDay,
			observer: "observeCalendarDay2",
			notify: true

		},
		courseEventLists:{
			type: Array,
			computed: 'computeEventLists(fcCourse.courseCalendarDaysArray)',
			notify: true
		},
		


	},

	ready: function(){},
	attached:function(){},
	computeEventList: function(cDay){
		if(cDay.calendarDay){
			return cDay.calendarDay.eventList.base;
		};

	},
	computeEventLists: function(calDayArray)
	{
	 var courseEventList=[];	
		// courseEventList=calDayArray.filter(function(currentValue, index, array)
		// 	{
		// 		var date=currentValue.date;
		// 		var eventList=currentValue.eventList;
		// 		console.log(date, eventList, currentValue);
		// 		var eventObject={"date":date, "eventList":eventList, "calendarDay":currentValue};
		// 		return currentValue;

		// 	});
		// //console.log(courseEventList)
		// return courseEventList;


	},
	observeCalendarDay: function(nval, oval)
	{
		if(nval)
		{
			console.log(nval, "actual value: " + this.calendarDay.eventList[0].activity);
			//this.set("calendarDay.calendarDay.eventList", this.calendarDay.calendarDay.eventList);
			//	this.notifyPath("calendarDay.calendarDay.eventlist", this.calendarDay.calendarDay.eventList);
		}
	},
	observeCalendarDay2:function(newVal, oldb){
		console.log(newVal, oldb);	


	},
	_computeDate: function(cDay){
		
		if(cDay)
		{	console.log(cDay);
			var result = cDay;
  			// result = result.slice(0,10);
  			return cDay;
		}
	},
});
</script>
</dom-module>