<dom-module id="fc-event-element">
<template>
<style>
:host{
	font-family: merriweather;
	font-size: 14px;
	line-height: 1.0;
	margin-top: 12px;
	background: white;
	position:relative;
	height: 420px;
	width: 330px;
}
paper-item {background: white;
    --paper-item-focused: {
      background: var(--paper-amber-100);
      font-weight: bold;
    };
    
  }
#demo{
	display: block;
	background: #aedefe;
}
.holder{
	width: 320px;
	height: 360px;
	background: #aedefe;
	margin-left: 2px;
	border: gold ridge 1px;
	box-shadow: 4px 11px 21px 7px #9fafaf;
		display: block;
	oveflow: hidden;
	float: right;
}
.innerholder{
	overflow-y: scroll;
}
.header-class{
font-size: 18px;
color: white;
	background: #03A9F4;
font-weight: 600;
text-align: center;
	padding: 12px 12px 20px 12px;
min-height: 44px;
}
paper-item{
	border: 1px solid #adadad;
 --paper-item-focused: {
      background: var(--paper-amber-500);
      font-weight: bold;
    };
}
.selected{background: var(--paper-amber-500);
      font-weight: bold;}
.primary{
	color: #008;
	font-weight:600;
	font-size: 15.5px;
}
.secondary{
		color: grey;
	font-weight:500;
	font-size: 11px;
}	
.slides{overflow: hidden; overflow-y: scroll;}

.one{
	font-family: merriweather; 
	font-weight: 600;
	color: #080808;
	font-size: 14px;
	white-space: nowrap;
	display: inline-block;
}
.two{
	font-family: merriweather; 
	display: inline-block;
	width: 95px !important;
	overflow: hidden;
	overflow-x: scroll;
	white-space: nowrap;
	font-size: 14px;
}
</style>

<template is="dom-repeat" items="{{inputOptions}}" as="option">
	<div class="vertical layout" style="margin-top: 3px; float: right;">
	
		<section class="holder layout vertical" style="float: right;">
			<section class="header-class layout horizontal">
				<paper-icon-button on-tap="_backOneInput" icon="icons:arrow-back" style="color: white; left: 5px;padding-bottom: 8px; float: left;"></paper-icon-button>
					<span class="flex layout horizontal nowrap center center-justified" style="color: white; font-size:18px; margin-top: 4px; text-align: center; font-family: merriweather;">[[option.header]]</span>
					<paper-icon-button on-tap="_forwardOneInput" icon="icons:arrow-forward" style="color: white; float: right;" class="headerRight"></paper-icon-button> 
			</section>
			<paper-listbox class="layout vertical slides">
				<template is="dom-repeat" items="{{option.selectItems}}" as="value">
						<paper-item on-tap="soSelected" class="layout horizontal courseData" group="courseData" draggable=true>
							<paper-item-body  class="layout vertical one" value$="{{value}}" two-line>
								<div class="primary">[[value]]</div>
								<div class="secondary">[[option.labelA]]</div>
							</paper-item-body>   	
							<paper-icon-button icon="star" on-tap="soUnSelected" value$="{{val}}" alt="favourite this!">
							</paper-icon-button>
			  			</paper-item>
					</template>
				</paper-listbox>	
			</section>

</div>	
</template>

</template>
<script>
"use-strict";
Polymer({
	is:"fc-event-element",
	properties:{
		eventData:{
			type: Object,
			value: {},
			notify: true, 
			reflectToAttribute: true
		},
		
		fcCourse: {
			type: FcCourse,
			value:function(){return new FcCourse();},
			notify: true,
		},
		inputIndex: {
			type: Number,
			value: 0,
			notify: true
		},	
		valueOptions: {
			type: Array, 
			notify: true
			},
		inputOptions: {
			type: Array, 
		 	computed:"selectInputs(inputs, inputIndex)",
			notify: true,
			reflectToAttribute: true
		},
		inputs: {
			type: Array,
			value: [],
			notify: true
		},
		saveChoiceLocal:{
			type: Boolean, 
			value: false,
			notify: true
		},

		event: {
			type: FcCourse,
			value:function(){return new FcCourse();},
			notify: true, 
			reflectToAttribute: true
		},

		calendarDayArray:{
			type: Array,
			value: [],
			notify: true,
			reflectToAttribute: true
		},
		summer:{
			type: Boolean,
			value: false,
			notify: true

		},
	
	},

	_backOneInput()
	{
		this.set("saveChoiceLocal", true);
		this.set("inputIndex", this.inputIndex-1);
	},
	_forwardOneInput()
	{	
		this.set("saveChoiceLocal", true);
		this.set("inputIndex", this.inputIndex+1);
	},

	selectInputs(inputs, inputIndex)
	{		
		var retVal = [];
		if(this.inputIndex===0)	
			{ 		
					retVal.push(inputs[this.inputIndex]);
					//console.log(retVal);
			}
			else if(this.saveChoiceLocal===true)
			{	
				retVal.push(inputs[this.inputIndex]);
				this.set("saveChoiceLocal", false);
			}
			return retVal;
	},

	soSelected(e){
		var propertyName = e.model.__data__.option.name;
		var val = e.model.__data__.value;
		//console.log(e, e.model.__data__.value, e.model.__data__.option.name);
		var propertyString="fcCourse."+propertyName;
		this.set(propertyString, val);
		// if(propertyString=="fcCourse.programLength" && this.fcCourse.testDate!==""){var d=new Date(this.fcCourse.testDate);}
		this.set("saveChoiceLocal",true);
		this.set("inputIndex", this.inputIndex+1);
	
},

});
</script>
</dom-module>
