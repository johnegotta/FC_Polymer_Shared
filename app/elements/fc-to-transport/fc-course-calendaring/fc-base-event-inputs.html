<dom-module id="fc-base-event-inputs">
<template>
<style>


	:host{
		margin: 12px 20px;
		height: 400px;
		width: 680px!important;
			
		}
	.one{
		font-family: merriweather; 
		font-weight: 600;
		height: 30px !important;
		padding-top: 12px;
		padding-left: 4px;
		min-width: 124px;
		max-width: 129px;
		border-left: solid 4px green;
		color: #080808;
		font-size: 12px;
		white-space: nowrap;
		display: inline-block;
	}
	fc-input-prime{
			height: 24px !important;
			top-margin: -8px;
	}
	.two{
		font-family: merriweather; 
		display: inline-block;
		height: 30px !important;
		color: brown;
		font-weight: 600;
		min-width: 170px;
		max-width: 188px;
		overflow: hidden;
		white-space: nowrap;
			font-size: 12px;
	}

</style>
<div class="vertical flex layout nowrap" style="height: 100%; border: 3px solid #008; width: 670px!important; margin: 1px 2px 1px 2px; padding: 1px;overflow-y: scroll; ">
<section class="vertical layout nowrap center" style="height: 50px; width: 670px; text-align: center;font-size: 20px; font-weight: 600; background: #008; color: white;">
<span style="padding: 12px;">Course Selections</span>
</section>
<div class="vertical flex layout nowrap" style="height: 440px; border: 3px solid #008; width: 660px!important; margin: 1px 2px 1px 2px; padding: 1px; overflow: hidden;  overflow-y: scroll;">
	<div class="horizontal flex layout wrap" style="border:3px solid #afafaf; margin: 1px 2px 1px 2px; padding: 1px; overflow: hidden;  overflow-y: scroll; width: 660px!important;">

	<template is="dom-repeat" id="courseValues" class="horizontal layout wrap" style="width: 322px!important;" items="{{outputOptions}}" as="option">
	<form>
			<section class="horizontal layout nowrap" style="color: #008; font-weight: 600; width: 155px!; font-family: merriweather; font-size: 14px; border-bottom: 2.4px solid [[alert]]; padding: 1px; overflow: hidden;">  
				<span class="one">[[option.labelA]]:</span>
				<span class="two">
					<fc-input-prime input-type="text" name="{{option.name}}" label-hidden="true" value="{{option.value}}"></fc-input-prime> &nbsp; &nbsp;
				</span>
			</section>
	</form>
	</template>
	
	</div>
	</div>
<paper-button elevation="3" style="max-width: 670px; border: 3px solid #afafaf;" on-tap="confirmCalculate">CONFIRM</paper-button>
</div>
	
			
		
</template>
<script>
"use strict";
Polymer({
	is:"fc-base-event-inputs",
	behaviors: [FCBehaviors.FcCalendarBehaviorPrime],
	observers: ['fcCourseObserver(fcCourse.*)'],
	properties: {
		outputOptions: {
			type: Array,
			value:"",
			notify: true
		},	
		valueOptions: {
			type: Array,
			value: [],
			notify: true
		},
		daysInEvent: {
			type: Array,
			value: [],
			notify: true
		},
		fcCourse:{
			type: FcCourse,
			value: function(){var course =new FcCourse(); return course;},
			notify: true
		}
		
	},
	
fcCourseObserver(fcCourse){
	this._computeCourse(this.valueOptions, this.fcCourse);
},

_computeCourse(valueOptions, fcCourse)
	{
		var length=valueOptions.length;
	 	 var outputArray=[];
	 	for(i=0;i<length;i++)
	  {	

	 		var valarr = [];
	 		valarr=valueOptions[i];
	 		var name = valarr[1].label2;
	 			name =name.charAt(0).toLowerCase() + name.slice(1);
	 			name=name.replace(/\s/g,'');		
	 		var eventOutput={
	 			"name":name,
	 			"inputType": "select",
	 			"header":valarr[0].label,
	 			"labelA":valarr[1].label2,
	 			"value": this.fcCourse[name] 
	 		};
	 	
	 		outputArray.push(eventOutput);
	
	 	}
		this.set("outputOptions", outputArray);
	 	return outputArray;
	},

confirmCalculate(){
	console.log(this.fcCourse);
	
	this.fcCourse.save();
	
	this.fire("catchTheCourse", {theCourse: this.fcCourse});
	event = JSON.stringify(this.fcCourse);
	console.log(event);
 		localStorage.setItem("New_Course", event); 
},

	

});
</script>
</dom-module>