<dom-module id="fc-calendar-text-inputs">
<template>
<style>
:host{margin: 12px;}
paper-button{
		 	 width: 50%;
		 	 font-weight: 600; 	  
		 	 font-size: 14px;
		 	 text-align: center;
		 	 white-space: nowrap;
		 	 max-height: 36px;
		 	 @apply(--layout-nowrap);
		 	 background: white;
		 }
		 paper-button.green{
		 	color: green; 
		 	border: 2px solid green;
		}
		paper-button:hover, paper-button:active{
			box-shadow: 2px 4px 7px 2px #afafaf; 

		} 
		paper-button.darkblue:hover, paper-button.darkblue:active{
			box-shadow: 2px 4px 7px 2px gold; 

		} 
		.buttonRow{
			@apply(--layout-flex);
			@apply(--layout-horizontal);
			padding: 2px;
		}


.headerLeft{
height: 40px; width: 40px; color: white; float: left;
top: 10px;

}
.headerRight{
	height: 38px; width: 38px; color: white; float: right;
top: 10px;
}
</style>
<fc-list-box-container list-item-data="{{outputOptions}}" is-input="true" options-array$="" min-ht="460px" max-ht="460px" fcprimary="{{primary}}" secondary-one="{{secondaryOne}}" secondary-two="{{secondaryTwo}}"  header-height="62px" header-font="20px" top-heading="Course Selections">
	<section class="buttonRowOne buttonRow">
				<paper-button elevation="3" class="green layout horizontal flex nowrap center center-justified" on-tap="confirmCalculate">CONFIRM</paper-button>
	</section>
</fc-list-box-container>

			
		
</template>
<script>
"use strict";
Polymer({
	is:"fc-calendar-text-inputs",
	behaviors: [FCBehaviors.FcCalendarBehaviorPrime],
	observers: ['fcCourseObserver(fcCourse.*)'],
	properties: {
		outputOptions: {
			type: Array,
			value:"",
			notify: true
		},
		valueOptions: {
			type: Array,
			value: [],
			notify: true
		},
		daysInEvent: {
			type: Array,
			value: [],
			notify: true
		},
		fcCourse:{
			type: FcCourse,
			value: function(){var course =new FcCourse({}); return course;},
			notify: true
		}, 
		primary:{
			type: Array,
			value:function(){return ["value"];}, 
			notify: true

		},
		secondaryOne:{
			type: Array,
			value:function(){return ["labelA"];}, 
			notify: true
		},
		secondaryTwo:{
			type: Array,
			value:function(){return ["name"];}, 
			notify: true

		},
		
	},
	
fcCourseObserver(fcCourse){
	this._computeCourse(this.valueOptions, this.fcCourse);
},

_computeCourse(valueOptions, fcCourse)
	{
		var length=valueOptions.length;
	 	 var outputArray=[];
	 	for(i=0;i<length;i++)
	  {	

	 		var valarr = [];
	 		valarr=valueOptions[i];
	 		var name = valarr[1].label2;
	 			name =name.charAt(0).toLowerCase() + name.slice(1);
	 			name=name.replace(/\s/g,'');		
	 		var eventOutput={
	 			"name":name,
	 			"inputType": "select",
	 			"header":valarr[0].label,
	 			"labelA":valarr[1].label2,
	 			"value": this.fcCourse[name] 
	 		};
	 	
	 		outputArray.push(eventOutput);
	
	 	}
		this.set("outputOptions", outputArray);
	 	return outputArray;
	},

confirmCalculate(){
	console.log(this.fcCourse);
	
	this.fcCourse.save();
	
	this.fire("catchTheCourse", {theCourse: this.fcCourse});
	event = JSON.stringify(this.fcCourse);
	console.log(event);
 		localStorage.setItem("New_Course", event); 
},

	

});
</script>
</dom-module>