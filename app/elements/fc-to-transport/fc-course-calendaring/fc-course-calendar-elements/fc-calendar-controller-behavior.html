<script>
window.FCBehaviors = window.FCBehaviors || {};
FCBehaviors.FcCalendarControllerBehaviorImpl = {
	properties:{
		courses:{
			type:Array,
			notify: true
		},
		dropdownOpen:{
			type:Boolean,
			value:function(){ false},
			notify: true,



		},
		
		syllabus:{
			type: Array,
			value: function(){ 
				return [{	Day: "1",
							Math_Homework: "Read Math Workbook Chapter 1: Lines & Slopes, Do homework problems in Math Workbook Chapter 1: Lines & Slopes",
							Reading_Homework: "",
							Writing_Homework: "Read Grammar Guide Pages 1-10",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "2",
							Math_Homework: "",
							Reading_Homework: "",
							Writing_Homework: "Read Grammar Guide Pages 11-17",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "3",
							Math_Homework: "Read Math Workbook Chapter 2: Systems of Equations, Do homework probems in Math Workbook Chapter 2: Systems of Equations",
							Reading_Homework: "Redo Reading Section from Practice Test 1",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 3: Relative Clauses",
							Assignments_Due: "Homework Problems in Math Workbook Chapter 1: Lines & Slopes, Have read Grammar Guide Pages 1-17",
							Label: ""

						},
						{
							Day: "4",
							Math_Homework: "Read Math Workbook Chapter 3: Inequalities, Do homework problems in Math Workbook Chapter 3: Inequalities",
							Reading_Homework: "Redo Reading Section from Practice Test 1",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 4: Prepositional Phrases",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "5",
							Math_Homework: "Do homework problems in Heart of Algebra Handout Practice Set 1: Linear Equations",
							Reading_Homework: "Redo Reading Section from Practice Test 1",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 5: Idioms",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "6",
							Math_Homework: "Do homework problems in Heart of Algebra Handout Practice Set 2: Systems of Linear Equations",
							Reading_Homework: "Redo Reading Section from Practice Test 1",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "7",
							Math_Homework: "Review Practice Test 2 and find questions you want to ask in class",
							Reading_Homework: "Redo Reading Section from Practice Test 1",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "8",
							Math_Homework: "Do homework problems in Heart of Algebra Handout Practice Set 3: Inequalities",
							Reading_Homework: "Redo Reading Section from Practice Test 1",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 6: Subject Verb Agreement",
							Assignments_Due: "Redone Reading from Practice Test 1, Homework Problems in Math Workbook Chapters 2 - 3, Homework Problems in Heart of Algerba Handout Practice Sets 1 - 2, Grammar Handouts Chapters 3 - 5",
							Label: ""

						},
						{
							Day: "9",
							Math_Homework: "Read Math Workbook Chapter 4: Exponents & Radicals, Do homework problems in Math Workbook Chapter 4: Exponents & Radicals",
							Reading_Homework: "Redo Reading Section from Practice Test 1",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "10",
							Math_Homework: "Read Math Workbook Chapter 5: Polynomials, Roots, and Remainders, Do homework problems in Math Workbook Chapter 5: Polynomials, Roots, and Remainders",
							Reading_Homework: "Do Reading Literature Passage Handout Questions",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 7: Modifiers",
							Assignments_Due: "Homework Problems in Math Workbook Chapter 4, Homework Problems in Heart of Algerba Handout Practice Set 3, Grammar Handouts Chapter 6",
							Label: ""

						},
						{
							Day: "11",
							Math_Homework: "Read Math Workbook Chapter 6: Functions, Do homework problems in Math Workbook Chapter 6: Functions",
							Reading_Homework: "",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "12",
							Math_Homework: "Read Math Workbook Chapter 7: Linear, Quadratic, and Exponential Functions, Do homework problems in Math Workbook Chapter 7: Linear, Quadratic, and Exponential Functions",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 8: Run-ons",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "13",
							Math_Homework: "Do homework problems in Passport to Advanced Mathematics Handout Practice Set 7: Exponents, Radicals, Polynomials, and Rational Expressions",
							Reading_Homework: "",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "14",
							Math_Homework: "Review Practice Test 3 and find questions you want to ask in class",
							Reading_Homework: "",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "15",
							Math_Homework: "Do homework problems in Passport to Advanced Mathematics Handout Practice Set 8: Advanced Techniques for Polynomials and Rational Equations",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 9: Fragments",
							Assignments_Due: "Homework Problems in Math Workbook Chapters 5 -7, Homework Problems in Passport to Advanced Mathematics Handout Practice Set 7, Grammar Handouts Chapters 7 - 8, Literature Passage Handout",
							Label: ""

						},
						{
							Day: "16",
							Math_Homework: "Do homework problems in Passport to Advanced Mathematics Handout Practice Set 9: Functions and Function Notation",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 9: Fragments",
							Assignments_Due: "Homework Problems in Math Workbook Chapters 5 -7, Homework Problems in Passport to Advanced Mathematics Handout Practice Set 7, Grammar Handouts Chapters 7 - 8, Literature Passage Handout",
							Label: ""

						},
						{
							Day: "17",
							Math_Homework: "Do homework problems in Passport to Advanced Mathematics Handout Practice Set 10: Quadratic Equations and Their Graphs",
							Reading_Homework: "Do Reading Science Passage Handout Questions",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 11: Parallelism",
							Assignments_Due: "Homework Problems in Math Workbook Chapters 5 -7, Homework Problems in Passport to Advanced Mathematics Handout Practice Sets 8-9, Grammar Handouts Chapters 9 - 10",
							Label: ""

						},
						{
							Day: "18",
							Math_Homework: "Read Math Workbook Chapter 8: Rates, Ratios, and Proportions, Do homework problems in Math Workbook Chapter 8: Rates, Ratios, and Proportions",
							Reading_Homework: "Do Reading Science Passage Handout Questions",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 12: Pronoun Reference",
							Assignments_Due: "Homework Problems in Math Workbook Chapters 5 -7, Homework Problems in Passport to Advanced Mathematics Handout Practice Sets 8-9, Grammar Handouts Chapters 9 - 10",
							Label: ""

						},
						{
							Day: "19",
							Math_Homework: "Read Math Workbook Chapter 9: Percentages, Do homework problems in Math Workbook Chapter 9: Percentages",
							Reading_Homework: "Do Reading Science Passage Handout Questions",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 13: Tenses",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "20",
							Math_Homework: "Read Math Workbook Chapter 10: Scatterplots and Tables, Do homework problems in Math Workbook Chapter 10: Scatterplots and Tables",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 14: Commas, Dashes, & Colons",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "21",
							Math_Homework: "Review Practice Test 4 and find questions you want to ask in class",
							Reading_Homework: "",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "22",
							Math_Homework: "Read Math Workbook Chapter 11: Statistics and Probability, Do homework problems in Math Workbook Chapter 11: Statistics and Probability",
							Reading_Homework: "",
							Writing_Homework: "",
							Assignments_Due: "Homework Problems in Math Workbook Chapters 8 - 10, Homework Problems in Passport to Advanced Mathematics Handout Practice Set 10, Grammar Handouts Chapters 11 - 14, Science Passage Handout",
							Label: ""

						},
						{
							Day: "23",
							Math_Homework: "Do homework problems in Problem Solving and Data Analysis Handout Practice Set 4: Rates, Ratios, Proportions, and Percentages",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 15: Apostrophes",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "24",
							Math_Homework: "Do homework problems in Problem Solving and Data Analysis Handout Practice Set 5: Scatterplots",
							Reading_Homework: "Do Reading Social Science Passage Handout Questions, Write essay in response to passage handed out in class",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 22: Point of View, Do homework questions in Grammar Handouts Chapter 23: Comparatives vs. Superlatives",
							Assignments_Due: "Homework Problems in Math Workbook Chapter 11, Homework Problems in Problem Solving and Data Analysis Handout Practice Set 4, Grammar Handouts Chapter 15",
							Label: ""

						},
						{
							Day: "25",
							Math_Homework: "Do homework problems in Problem Solving and Data Analysis Handout Practice Set 6: Two-way Tables, Statistics, and Probability",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 24: Who vs. Whom, Do homework questions in Grammar Handouts Chapter 25: Combining Sentences",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "26",
							Math_Homework: "Read Math Workbook Chapter 12: Imaginary Numbers, Do homework problems in Math Workbook Chapter 12: Imaginary Numbers",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 16: Word Choice",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "27",
							Math_Homework: "Read Math Workbook Chapter 13: Lines & Angles, Do homework problems in Math Workbook Chapter 13: Lines & Angles",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 17: Transitions",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "28",
							Math_Homework: "Review Practice Test 5 and find questions you want to ask in class",
							Reading_Homework: "",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "29",
							Math_Homework: "Read Math Workbook Chapter 14: Triangles, Do homework problems in Math Workbook Chapter 14: Triangles",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 18: Topic, Conclusion, & Transition Sentences",
							Assignments_Due: "Homework Problems in Math Workbook Chapters 12 - 13, Homework Problems in Problem Solving and Data Analysis Handout Practice Sets 5 - 6, Grammar Handouts Chapters 22 - 25, 16 - 17, Social Science Passage Handout, Additional Essay",
							Label: ""

						},
						{
							Day: "30",
							Math_Homework: "Read Math Workbook Chapter 15: Circles, Do homework problems in Math Workbook Chapter 15: Circles",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 19: Supporting Evidence & Examples",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "31",
							Math_Homework: "Read Math Workbook Chapter 16: Trigonometry, Do homework problems in Math Workbook Chapter 16: Trigonometry",
							Reading_Homework: "Do Reading Double Passage Handout Questions, Write essay in response to passage handed out in class",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 20: Relevance & Purpose",
							Assignments_Due: "Homework Problems in Math Workbook Chapters 14 - 15, Grammar Handouts Chapters 18 - 19",
							Label: ""

						},
						{
							Day: "32",
							Math_Homework: "Read Math Workbook Chapter 17: Areas & Solid Geometry, Do homework problems in Math Workbook Chapter 17: Areas & Solid Geometry",
							Reading_Homework: "",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "33",
							Math_Homework: "Do homework problems in Additional Topics in Mathematics Handout Set 11: Imaginary Numbers",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 21: Placement",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "34",
							Math_Homework: "Do homework problems in Additional Topics in Mathematics Handout Set 12: Lines, Angles, and Triangles",
							Reading_Homework: "",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "35",
							Math_Homework: "Review Practice Test 6 and find questions you want to ask in class",
							Reading_Homework: "",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "36",
							Math_Homework: "Do homework problems in Additional Topics in Mathematics Handout Set 13: Similarity, Congruence, and Proofs",
							Reading_Homework: "",
							Writing_Homework: "Do homework questions in Grammar Handouts Chapter 26: Data Interpretation",
							Assignments_Due: "Homework Problems in Math Workbook Chapters 16 - 17, Homework Problems in Additional Topics in Mathematics Handout Practice Sets 11 - 12, Grammar Handouts Chapters 20 - 21, Reading Double Passage Handout, Additional Essay",
							Label: ""

						},
						{
							Day: "37",
							Math_Homework: "Do homework problems in Additional Topics in Mathematics Handout Set 14: Circles",
							Reading_Homework: "",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						},
						{
							Day: "38",
							Math_Homework: "Do homework problems in Additional Topics in Mathematics Handout Set 15: 3-D Shapes",
							Reading_Homework: "Write essay in response to passage handed out in class",
							Writing_Homework: "",
							Assignments_Due: "Homework Problems in Additional Topics in Mathematics Handout Practice Sets 13 - 14, Grammar Handouts Chapter 26",
							Label: ""

						},
						{
							Day: "39",
							Math_Homework: "Do homework problems in Additional Topics in Mathematics Handout Set 16: Trigonometry",
							Reading_Homework: "",
							Writing_Homework: "",
							Assignments_Due: "",
							Label: ""

						}
					];
				},
				notify: true
			},

	},
	ready(){
		// var courses=this.getFireBaseCourses();
		// this.set("courses", courses);
		// console.log(this.courses);
	},
attached(){},

	backOneInput()
	{
		this.set("saveChoiceLocal", true);
		this.set("inputIndex", this.inputIndex-1);
	},
	forwardOneInput()
	{	
		this.set("saveChoiceLocal", true);
		this.set("inputIndex", this.inputIndex+1);
	},

	confirm(){
		console.log(this.fcCourse);
		this.fcCourse.save();
		this.fire("catchTheCourse", {theCourse: this.fcCourse});
		event = JSON.stringify(this.fcCourse);
		console.log(event);
 		localStorage.setItem("New_Course", event); 
	},
	  openDropdown(e){
		var targ=e.target;
		while(targ.nodeName!="PAPER-ICON-BUTTON"&& targ.nodeName!=="FC-DDR-CARD")
		{
			targ=targ.parentElement;
		}
		if(targ.nodeName=="PAPER-ICON-BUTTON")
		{
			var list=targ.nextElementSibling;
					console.log(list);
			var check =Polymer.dom(list).classList.contains("show");
			if(check){
					Polymer.dom(list).classList.remove("show"); 		
			}
			else{
				this.set("dropdownOpen",true);
				Polymer.dom(list).classList.add("show");
				}
		}
     },
     pickCLass: function(){
		var calendarDayArray=this.fcCourse.calendarDayArray;
		this.set("fcCourse.calendarDayArray",course.calendarDayArray);
		this.$.datePickerCompactTwo.initialize(calendarDayArray);
	},

	itemInfo(itemName){






	},
	openDropdown2(e){
		console.log(e);
		var targ=e.target;
		while(targ.nodeName!="PAPER-ICON-BUTTON"&& targ.nodeName!=="FC-DDR-CARD")
		{
			targ=targ.parentElement;
		}
		if(targ.nodeName=="PAPER-ICON-BUTTON")
		{
			var list=targ.nextElementSibling;
					console.log(list);
			var check =Polymer.dom(list).classList.contains("show");
			if(check){
					Polymer.dom(list).classList.remove("show"); 		
			}
			else{
				Polymer.dom(list).classList.add("show");
				}
		}
     },
	delete: function(){
		var fcid=this.fcCourse.fcid;
		var partRef=FcCourse.getFirebaseLocation();
		var firebase=partRef+"/"+fcid;
		var deleteRef=new Firebase(firebase);
		deleteRef.remove();
		this.set("fcCourse", new FcCourse({}));
	}, 
	// newCalendar: function(){
	// 	var sortedCalDays= this.fcCourse.courseCalendarDaysArray.sort(function(a,b){
	// 		if (a.dateId > b.dateId) {
 //    		return 1;
 //  			}
 //  			if (a.dateId < b.dateId) {
 //   	 		return -1;
 //  			}
 //  			if (a.dateId ===b.dateId){
 //  			  return 0;
	// 		}
	// 	});
		
	// 	 this.set("fcCourse.courseCalendarDaysArray", sortedCalDays);
	// },
	newCalendar: function(){
		course= new FcCourse();
		this.set("fcCourse",course);
		this.$.datePickerCompactTwo.initialize();
	},

	setCalendar: function(e){
			this.set("fcCourse",e.model.item);
	},

  openup: function(e){
    		console.log(e);
    		var event=e.model.__data__.event;
    		this.$.eventDialog.openDi();
    		console.log(this.$.eventDialog, event);
    		this.set("dialogEvent", event);
    		console.log(this.$.eventDialog, event, this.dialogEvent);

    },
	clearWork: function(){
		var	cda=[];
		var course={};
		course= new FcCourse();
		course.calendarDayArray=this.fcCourse.calendarDayArray;
		console.log(course.calendarDayArray);
		this.set("fcCourse",course);
		this.set("fcCourse.calendarDayArray",course.calendarDayArray);
		var optEl=Polymer.dom(this.root).querySelector("#calendarOptionsSelector");
		console.log(optEl);
		this.inputIndex=0;
		this._backOneInput();
		this._forwardOneInput();

	},
	
	addEvent:function(e){
			console.log(e);
			var index=e.model.day.cdIndex;
				var model = event.model;
				var day=model.day
				var elist=day.eventList;
				var dateId=day.dateId;
				var course=model.__data__.fcCourse;
			if(index==-1)
			{	var model = event.model;
				var day=model.day;
				var elist=day.eventList;
				var dateId=day.dateId;
				var course=model.__data__.fcCourse;
				var index=this.fcCourse.courseCalendarDaysArray.length;
				day.cdIndex=index;
				day.inCourseCalendarDayArray=true;
				day.color="#008";
				//day.background="#aecefe";
				day.eventType="private course meeting";
				day.dateText="Session";
			var modelPst=new FcCourseEvent({activity: "Private Course Meeting", name: "Private Course Meeting", color: "purple", cdIndex: index, eventType: day.eventType, courseEventType: day.eventType, date: day.date, showDate: day.showDate, coach: this.fcCourse.coach, coachId: this.fcCourse.fcid});
				this.push("fcCourse.courseCalendarDaysArray",day);
			}
			else{
			var evId =stringTimeToDateTime(this.fcCourse.startTime, day.date);
			var pst=new FcEvent({activity: "new event", date: day.date, showDate: day.showDate, coach: this.fcCourse.coach, coachId: this.fcCourse.fcid, evId: evId});
			if(this.fcCourse.courseCalendarDaysArray[index].eventList){
			this.push(["fcCourse.courseCalendarDaysArray",index,"eventList"], pst);
			}
			else{this.set(["fcCourse.courseCalendarDaysArray",index,"eventList"], []);
				this.push(["fcCourse.courseCalendarDaysArray",index,"eventList"], pst);
				}
			}
},
inputValueAndLabelSerialization: function(valueOptions)
	 {	
		var length=valueOptions.length;
	 	 var derray=[];
	 	for(i=0;i<length;i++)
	  {	
	 		var valarr = [];
	 		valarr=valueOptions[i];
	
	 		var eventInput={
	 			"name":"",
	 			"inputType": "select",
	 			"header":valarr[0].label,
	 			"labelA":valarr[1].label2,
	 			"labelB":"",
	 			"isRepeaterSelect":true,
	 			"selectItems":valarr[2],
	 			"style":"",
	 			"class": "",
	 			"aside":{	"noteOne:": "",
	 						"noteTwo:": ""}
			};
	 			var name = valarr[1].label2;
	 			name =name.charAt(0).toLowerCase() + name.slice(1);
	 			name=name.replace(/\s/g,'');
	 		eventInput.name=name;
	 		derray.push(eventInput);

	 	}
	 	 return derray;
	 },	
	getFireBaseCourses(){
 		var self=this;
 		var ref = new Firebase(FcCourse.getFirebaseLocation());
 		this.set("courseTemp", ref);
 		ref.on("child_added", function(snapshot){
  				var courses = snapshot.val();
  				// if(snapshot.key()!="counter")
  				var keys=Object.keys(courses);
  				// {
   					keys.forEach(function(val){
   						// console.log(courses[val]);
   					self.push("courses", courses[val]);
   					// console.log(self.courses);
  				 }, self
  			);});
   					this.notifyPath("courses", this.courses);
   					// console.log(this.courses);

 },
 _computeOutput: function(valueOptions, fcCourse)
	{
		var length=valueOptions.length;
	 	 var outputArray=[];
	 	for(i=0;i<length;i++)
	  {
	 		var valarr = [];
	 		valarr=valueOptions[i];
	 		var name = valarr[1].label2;
	 			name =name.charAt(0).toLowerCase() + name.slice(1);
	 			name=name.replace(/\s/g,'');
	 		var propertyName ="fcCourse."+name;
	 		var button="inputSelected__name_"+name+"__value_"+ this.fcCourse[name] || "";
	 		var eventOutput={
	 			"name":name,
	 			"inputType": "select",
	 			"header":valarr[0].label,
	 			"labelA":valarr[1].label2,
	 			"value": this.fcCourse[name] || ""
	 		};
	 		outputArray.push(eventOutput);
	 	}
	 	return outputArray;
	},

}

FCBehaviors.FcCalendarControllerBehavior=[

	FCBehaviors.FcCalendarControllerBehaviorImpl
	];
</script>
