	<dom-module id="fc-event-list">
  <template>
  <style>
  </style>
    <div class="horizontal layout flex wrap">
    <paper-icon-button on-tap="toggleCollapse"  style="color: yellow; background: aqua; border: 4px white solid; border-radius: 180px; width 12px; height: 12px; padding 4px; box-shadow: 4px 7px 13px 11px #AFAFAF;" icon="icons:dashboard"></paper-icon-button>
    <form on-submit="addItem" class="horizontal layout flex wrap" style="padding:8px; width: 236px !important;">
    <section class="horizontal layout nowrap" style="width:96%;">
          <fc-input-prime 
            value="{{item.name}}"
            id="theNameOne"
            label="Event Name" 
            input-type="text"
            name="name">
          </fc-input-prime>
          <fc-input-prime 
            input-type="datetime-local" 
            label="Start Time"
            name="startTime"  
            value="{{item.startTime}}">
          </fc-input-prime>
           <fc-input-prime 
            input-type="datetime-local" 
            label="end Time"
            name="endTime" 
            value="{{item.endTime}}">
          </fc-input-prime>
          <fc-input-prime 
            input-type="text" 
            label="Location" 
            value="{{item.location}}">
          </fc-input-prime>
          <fc-input-prime 
            input-type="text" 
            label="Coach" 
            value="{{item.coach}}">
          </fc-input-prime>
          </section>

      </form>
       
                ADD     
     <paper-icon-button  style="color: yellow; background: aqua; border: 4px white solid; border-radius: 180px; width 12px; height: 12px; padding 4px; box-shadow: 4px 7px 13px 11px #AFAFAF;" icon="icons:add-circle-outline" on-tap="addItem">
         </paper-icon-button>
 [[item.holiday]]
   </div>
   <iron-collapse id="myCollapse" style="border: 2px aqua solid; outline: 2px solid cream;">  
      <div class="layout vertical" style="height:320px; width: 90%; overflow: hidden; border: ridge 4px silver;" >
      <div class="layout vertical flex wrap" style="background: white; width: 100%; border: silver solid 2px; max-height: 340px; overflow: hidden; overflow-y: scroll; overflow-x: scroll">
      <template is="dom-repeat" items="{{events}}" as='event'><!--eventArray number date-->
          <div class="eventItem">
            <paper-checkbox
              on-change="toggleItem"
                checked="{{event.completed}}"></paper-checkbox>
              <span class="label">[[event.name]] [[event.startTime]] [[event.endTime]]</span>  
              <span>[[event.coach]]  [[event.location]] [[event.completed]]</span>
              <paper-icon-button
              icon="delete" 
                on-tap="deleteItem">
              </paper-icon-button>
            </div>
      </template>
      </div>
      </div>
      </iron-collapse>
      
</template>
<script>
"use strict";    
Polymer({
  	is: 'fc-event-list',
  	properties: {
  		events: {
  			type: Array,
  			value: function(){
  				return [];	},
  			notify: true
  			},
      newItemValue:{
        type: Object,
        value: function(){return {};},
        notify: true
      },
  		item: {
  			type: FcEvent,
        value: function(){return new FcEvent({});},
  			notify: true
  			},
  		firebaseURL: {
  			type: String, 
  			value: "https://focused0ne.firebaseio.com/events",
  			notify: true
  			},
  		firebaseProvider: {
  			type: String,
  			value: 'password',
  			notify: true
  			},
      eventDate:{
          type: Date,
          computed:"computeEventDate(eventDay)",
          notify: true
      },
      eventDay:{
          type: String,
          value: '',
          notify: true
      }
  	},

		
		attached: function() {
        console.log(this.item);
		  	this.ref = new Firebase(this.firebaseURL);
        if(this.numberDate)
          {
             this.ref.orderByChild("numberDate").equalTo(this.numberDate).on('value', function(snapshot) {
		    	   this.updateEvents(snapshot);}.bind(this));
          }
          else 
          {
               this.ref.on('value', function(snapshot){
             this.updateEvents(snapshot);}.bind(this));
          }

		},
    computeEventDate: function(eventDay){
        var retVal=new Date(eventDay);
        console.log(eventDay);
        var dt=retVal.midnightToker()
        console.log(dt);
        this.set("dateKeyOne",dt);

        return retVal;      
    },
    toggleCollapse: function(){
        this.$.myCollapse.opened=!this.$.myCollapse.opened;
    },
		onFirebaseError: function(event) {
  			this.$.errorToast.text = event.detail.message;
  			this.$.errorToast.show();
					},
	
		onFirebaseLogout: function(event) {
			this.updateEvents();
		},

		updateEvents: function(snapshot) {
		  	this.events = [];
		  	snapshot.forEach(function(childSnapshot) {
		    	var item = childSnapshot.val();
		    	if(childSnapshot.key()!="counter")
          {
            item.fcid = childSnapshot.key();
            this.push('events', new FcEvent(item));
          }
		  	}.bind(this));
		},

		addItem: function(event) {
        console.log(this.$.theNameOne.getAttribute("value"));
		  	event.preventDefault();
        console.log(this.item);
		  	this.item.save();
		  	this.set("item", new FcEvent({}));
		},

		toggleItem: function(event) {
		//   	this.ref.child(event.model.item).
		//     	update({completed: event.model.item.completed});
		 },

		deleteItem: function(event) {
      console.log(event);
		  	this.ref.child(event.model.event.fcid).remove();
		}
  });
  </script>
  </dom-module>