<dom-module id="fc-fit-wrapper">
<template>
  <style>
    :host {
      background-color: var(--paper-light-blue-500);
      color: white;
      text-align: center;
    }
    div{height: 400px;
        width: 400px;
        background: white;}
  </style>

<div style="border:4px double #009; outline: 2px white solid;">
<paper-button on-tap="openButtons">align controls</paper-button>
  <iron-collapse id="collapsable">
  <section on-tap="updateAlign">
   <p>
      <button data-align="verticalAlign_top">top</button>
      <button data-align="verticalAlign_bottom">bottom</button>
      <button data-align="verticalAlign_auto">auto</button>
      <button data-align="vertical-align_null">null</button>
    </p>
    <p>
      <button data-align="horizontalAlign_left">left</button>
      <button data-align="horizontalAlign_right">right</button>
      <button data-align="horizontalAlign_auto">auto</button>
      <button data-align="horizontalAlign_null">nukk</button>
    </p>
    <p>
    <button data-align="noOverLap_bool">no overlap</button>
    <button data-align="dynamicAlign_bool">dynamic align</button>
    </p>
  </section>
  </iron-collapse>
    <content></content>
</div>
  </template>
<script>
FcFitWrapper=Polymer({
    is: 'fc-fit-wrapper',
    behaviors: [
      Polymer.IronFitBehavior
    ],
    properties:{
      defaultTarget:{
        value:"gridBox78",
        notify: true
      },
    parentN:{
      type:Object,
      value:function(){var parent= Polymer.dom(this).parentNode;
        return parent;}
    }
    },

  openButtons(){
    this.$.collapsable.opened=!this.$.collapsable.opened;
      },
  updateAlign(e){  
  if(e.target.nodeName==="BUTTON"){  
      var target = e.target.dataset.align;
      console.log(e,e);
      var attValArr=target.split("_"),
      att=attValArr[0].toString(),
      val=attValArr[1].toString();
      if(val=="bool"){this.set(att.toString(),!att);}
      else{this.set(att.toString(),val);}
      console.log(this.dynamicAlign, this.horizontalAlign, this.verticalAlign, this.noOverlap);
      this.refit();
      console.log(this, this[att], att, val, "last one is func???");
      }
    console.log(e, "not button: e.target.nodeName");
  },





  });
</script>
</dom-module>
<!-- 
    var  = 
    var template = document.querySelector('template[is="dom-bind"]');

    template.containers = new Array(30);

    template.updatePositionTarget = function(e) {
      var target = Polymer.dom(e).rootTarget;
      target = myFit.positionTarget === target ? defaultTarget : target;
      myFit.positionTarget.style.backgroundColor = '';
      target.style.backgroundColor = 'orange';
      myFit.positionTarget = target;
      template.refit();
    };

    template._raf = null;
    template.refit = function() {
      template._raf && window.cancelAnimationFrame(template._raf);
      template._raf = window.requestAnimationFrame(function() {
        template._raf = null;
        myFit.refit();
      });
    };

    template.updateAlign = function(e) {
      var target = Polymer.dom(e).rootTarget;
      if (target.hasAttribute('horizontal-align')) {
        myFit.horizontalAlign = target.getAttribute('horizontal-align');
        var children = target.parentNode.querySelectorAll('[horizontal-align]');
        for (var i = 0; i < children.length; i++) {
          toggleClass(children[i], 'selected', children[i] === target);
        }
      }
      if (target.hasAttribute('vertical-align')) {
        myFit.verticalAlign = target.getAttribute('vertical-align');
        var children = target.parentNode.querySelectorAll('[vertical-align]');
        for (var i = 0; i < children.length; i++) {
          toggleClass(children[i], 'selected', children[i] === target);
        }
      }
      template.refit();
    };

    template.toggleNoOverlap = function(e) {
      myFit.noOverlap = !myFit.noOverlap;
      toggleClass(Polymer.dom(e).rootTarget, 'selected', myFit.noOverlap);
      template.refit();
    };

    template.toggleDynamicAlign = function(e) {
      myFit.dynamicAlign = !myFit.dynamicAlign;
      toggleClass(Polymer.dom(e).rootTarget, 'selected', myFit.dynamicAlign);
      template.refit();
    };

    // Listen for resize and scroll on window.
    window.addEventListener('resize', template.refit);
    window.addEventListener('scroll', template.refit);

    function toggleClass(element, cssClass, condition) {
      element.classList[condition ? 'add' : 'remove'](cssClass);
    }
  </script>
</template>

</script> -->