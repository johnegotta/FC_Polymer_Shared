<dom-module id="fc-grid-table">
<template>
<style>
:host {border: 2px solid #ababab;
	height: 420px;
	width: 660px;
	@apply(--layout-horizontal);
	@apply(--layout-wrap);
	}
</style>
<sortable-js group="group" class="horizontal layout flex wrap" handle=".handle">

<template is="dom-repeat" class="horizontal layout flex wrap ghost dropzone" draggable items="{{dataArray}}">
<fc-grid-cell group="group" name$="{{item.index}}" class="pickle group handle" gc-label="{{item.label}}" gc-val="{{item.val}}" value="{{item.val}}">

</fc-grid-cell>
</template>
</sortable-js>
</template>
<script> 
FcGridTable=Polymer({
	is: "fc-grid-table",
	properties: {
		
		dataSource:{
			type: Object,
			value: {},
			notify: true, 
			
		},
		dataArray:{
			type: Array,
			computed: "computeDataArray(dataSource)",
			notify: true
		},

	},
	// behaviors:[fcDraggableDataBehavior],

	ready: function(){
	


	},
	attached: function(){
		
	},
	detached: function(){
	
	},
	computeDataArray: function(dataSource){
		var obj ={};
		var arr=[];
		obj=dataSource;
		console.log(dataSource); 
		var uppers=[];
      Object.keys(obj).forEach(function(key,index){
      	
      	 // var len = key.length;
      	 // for(var i=0; i<len; i++){
      	 // 	var upper=key[i].toUpperCase();
      	 // 	if(key[i]===upper)
      	 // 	{ 
      	 // 		uppers.push(i);
      	 // 	}
      	 // }
      	 // var counter=uppers.length;
      	 // var lastIndex=0;
      	 // var label ="";
      	 // for(var j=0; j<counter; j++)
      	 // {
      	 // 	var index=uppers[j];
      	 // 	var word = key.slice(lastIndex, index);
      	 // 	label += word;
      	 // 	if(j!=counter-1)
      	 // 	{
      	 // 		label+=" ";
      	 // 	}
      	 // 	lastIndex=index;
      	 // }
      	 //  label[0]=label[0].toUpperCase();
         arr.push({"label": key,"val": obj[key], "index": index});
       });
      console.log(arr);
      return arr;
    }



});
</script>
</dom-module>