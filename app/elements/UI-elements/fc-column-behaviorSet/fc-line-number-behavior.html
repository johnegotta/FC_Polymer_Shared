<script>

create:	function (argPassageId)
{
	var passageMeasuredWordArrays = [];
	var paragraphMeasuredWordArrays = [];
	var lineMeasuredWordArrays = [];
	var canvas = document.createElement('canvas');
	var context = canvas.getContext("2d");
	context.font = "";
	var truePassageContent = fc_passages[argPassageId].text.replace(/[\—]/g, " — ");
	var paragraphArray = truePassageContent.split(/\n/);
	var numParagraphs = paragraphArray.length;
	var currentRow = 0;
	for(i=0; i< numParagraphs; i++)
	{
		var widths = [312, 360, 400, 420, 520, 600, 620, 640];
		var wordArray = paragraphArray[i].split(/\s/g);
		console.log("here measure each word, separate it, save it, define it, characterize it, and then `objectify it`" + wordArray);
		var numWords = wordArray.length;
		var wordCount = 0;
		
		while(wordCount < numWords)
		{
			var currentLine = "";
			var testLine = "";
			var currentWidth = 0;
			var space="&nbsp&nbsp&nbsp&nbsp";
			var spaceOffset = "";
			var j=0;
			while(currentWidth < widths[j] && wordCount <= numWords)
			{
				currentLine = testLine;
				if (testLine != "")
				{
					testLine += " "; //add a space if not beginning
      				}
      				else if(wordCount == 0)
      				{
      					//new paragraph
      					testLine += space;
      					spaceOffset = "aaaaaaaaaaaa";
      				}
      			var oldWidth = context.measureText(testLine).width - context.measureText(spaceOffset).width;
				testLine += wordArray[wordCount]; //add a word
				currentWidth = context.measureText(testLine).width - context.measureText(spaceOffset).width;
				var currentWord = wordArray[wordCount];
				var wordWidth = currentWidth - oldWidth;
				if(currentWidth<=widths[j]){
					lineMeasuredWordArrays[currentRow].push({line:currentRow, order: wordCount, word: currentWord, pixels: wordWidth, "current line width": currentWidthm, definition: 'meaning', "part of speech": "part of speech"});
				console.log(JSON.stringify(lineMeasuredWordArrays));
				}
				wordCount++;


			}
			j++;
			if(wordCount != numWords)
			{
				//ended while loop b/c of line width, so undo one word
				wordCount--;
			}
			//no line numbers on preface
			if(i > 0)
			{
				paragraphMeasuredWordArrays[i]= lineMeasuredWordArrays[currentRow];
				currentRow++; 
			}

			currentWidth = 0;
			//newParaGRAPH
		}
		passageMeasuredWordArrays.push({paragraph: i,paragraphMeasuredWordArrays[i]};
	}
	var storethis = window.localStorage;
	storethis.setItem(1,JSON.stringify(passageMeasuredWordArrays));
				alert("stored passage 1");
				
};
</script>