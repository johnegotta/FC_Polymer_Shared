<dom-module id="fc-input-set-generator">
	<style>
	:host: {
		width: calc(100%-64px);
		min-width: 87%;
		height: 96%;
		border: 6px ridge #000066;
		outline: gold;

		@apply(--horizontal-layout-flex-container);

	}

	</style>
	<template>


<iron-form style="margin: auto; padding: auto;" action="/">
<section>
    <span 
    	style="text-color:brown; font-size:.8em; font-family: merriweather;font-weight: 700;">
    	{{item.inputRowSubHeader}}
    </span>
    <article class="horizontal layout flex container">
    	<section 	class="vertical layout flex-1">
    		<template 
      			is="dom-repeat" 
	      		class$="{{inputTemplateClass}}vertical layout flex wrap" 
      			items="{{mcInputArray}}">
      			<fc-input-prime 
						input-type$="[[item.inputTypeB]]" 
						label="[[item.label]]" 
						button-name="Pancakes" 
						type$="[[item.inputTypeB]]"
						on-change="onInputChange"
						propname="[[item.propname]]"
						value="[[item.value]]">
					</fc-input-prime>
		    		
 			</template>
		</section>
		<section class="vertical layout flex-1">
			<template is="dom-repeat" 
      			class$="{{inputTemplateClass}}vertical layout flex wrap" 
      			items="{{dataSourcePaperInputs}}">
					<fc-input-prime 
		    			button-name="press-me"
		    			label="[[item.inputTypeB]]"
		    			input-type$=[[item.inputTypeB]]
		    			type$=[[item.inputTypeB]]>
		    		</fc-input-prime>
    		</template>
    	</section>
    </article>
   <span style="text-color:brown; font-size:.8em; font-family: merriweather;font-weight: 700;">{{item.inputRowFooterHeader}}</span>
</section> 
 </iron-form> 
	</template>
	<script>
		'use strict';
		(function() {
			class FCInputSetGenerator {
				get behaviors() {
					return [Polymer.IronResizableBehavior,
					Polymer.IronFormElementBehavior,
      				Polymer.PaperInputBehavior,
      				Polymer.IronControlState
					//add databehavior?
					];
				}
				
				beforeRegister() {
					this.is ="fc-input-set-generator";
					this.listeners = {"on-change": "_onChange"};//not sure on semi-colon
					this.observeres={};
					this.properties = {
						inputTypeA: {
							type:Array,
							notify: true
						},
						inputTypeB: {
							type:Array,
							notify: true
						},
						dataSourcePaperInputs:{
							type: Array,
							computed:'_computeDataSourcePaperInputs(dataDouble)',
							notify: true,
							reflectToAttribute: true 
						},
						aDataSource: {
							type: Array,
							// computed: "_computeMeAnAwesomeDataSource(dataDouble)",


						},
						displaySize: {




						},
						displayArea: {
							type: String,
							value: function(){
								console.log(this.root)
							},




						},
						deviceType:{




						},
						formArray:{
							type: Array, 
							notify: true
						},
						notBox: {
							type: Boolean,
							value: false,
							notify: true
						},
						oneColumn:{
							type: Boolean,
							computed: '_computeOneColumnWidthDisplay(displaySize)',
						},
						dataDouble: {
							type: Object,
							notify: true,
							reflectToAttribute: true 
						},
						
						mcInputArray:{
							type: Array,
							value:[]
						},

						secondaryLabelA: {
							type: String,
							notify: true,
						},
						
						secondaryLabelB: {
							type: String,
							notify: true,
						}
					// 	inputProperties: {
					// 		type: Array,
					// 		value:function(){
					// 			return [
				 //                    {
				 //                      "dataSource": "dataSourcePaperInputs", /*this has no item in front of it*/
				 //                      "inputIdA": "thedynamically generated I",
				 //                      "inputClassA": `{this.classList.add(this.myClass);}`,
				 //                      "inputNameA":'computeThisValue',
				 //                      "tabIndexA": 0,
				 //                      "inputLabelA": "UserChoice",
				 //                      "inputValueA": "userChocie",
				 //                      "floatlabel": false,
				 //                      "autoComplet": true,
				 //                      // "inputTapA":`${this.innerHtml='something';}`,
				 //                      "inputNameA":"userChoice || dynamic",
				 //                      "inputTypeA": 'radio',
				 //                      "inputTypeB": "focusedDiv",
				 //                      "autoComplete": true,
				 //                      "required": false,
				 //                      "disabled":false,
				 //                      "invalid": false,
				 //                      "preventInvalidInput": true,
				 //                      "allowedPattern":"COMPUTEThisValueTWO",
				 //                      "validator": "SOME CODE FOR A VALIDATOR",
				 //                      "pattern": "some RedEx",
				 //                      "required": false,
				 //                      "autofocus": true,
				 //                      "inputmode": ["latin", 
				 //                                "latin-prose", 
				 //                                "fullwidth-latin", 
				 //                                "tel", 
				 //                                "email", 
				 //                                "url"], 
				 //                      "minlength": Number,
				 //                      "maxlength": Number,//chars in a string
				 //                      "min": Number, 
				 //                      "max": Number,
				 //                      "step": 10,
				 //                      "placeholder": false,
				 //                      "readonly": false,
				 //                      "list": "should restrict options to only the preselected to force menu-like behavior",
				 //                      "size": 18, //width in characters visible
				 //                      "autocapitalize": true,
				 //                      "autocorrect": true,
				 //                      "onChange": "_itemMethodOnChange",//need to do something on this
				 //                      "tabindex": true,
				 //                      "autosave": true, 
				 //                      "results": 10,
				 //                      // "accept": "json" wasted prop
				 //                      "multiple": false,
				 //                      "meta":"String of stuff"
				 //                  	}
     //            				];
     //            			},//function in value closes
     //          				notify: true, 
     //          				reflectToAttribute: true
     //        			}//inputProperties Closes
					 }; //This properties closes 
				}	//end before register
						//note: should have observers in before register?
						//note: no commas in functions
						//note no word function in functions??
				ready(){
					this.mcInputArray = [];
					this.dataDouble=[];
					var i=16;
					while(i>0){
						
						i--;									
						var formArray= [
						"tel",
						"email",
						"datetime-local",
						"radio",
						"radio",
						"radio",
						"radio",
						"tel",
						"checkbox",
						"checkbox",
						"checkbox",
						"button",
						"button",
						"text",
						"text",
						"datetime-local",
						];
						this.set('formArray', formArray);
						// var rndLimit=typeArray.length;
						// let j=Math.floor(Math.random()*rndLimit);
						// let p=Math.floor(Math.random()*7);
						// let q=Math.floor(Math.random()*7);
						var classArray=['tab-button-pressed', 'tab-button', 'icon-buttons', 'icon-buttons-pressed','fire-class','fire-class-pressed','fire-class' ];
						this.inputTypeA = [];
						this.inputTypeB = [];

						this.set("inputTypeA", "checkbox");
						this.set("inputTypeB", this.formArray[i]);
						this.push('dataDouble', 
							{
								
									"fcSecondaryLabelA":this.formArray[i]  , 
									"inputTypeB":this.formArray[i],
									"inputTypeA": "checkbox",
								"autocomplete": true,
								"autofocus": true,		
								"autocapitalize":true,
								"autocorrect": true,
								"inputClassA": "tab-button",
								"noLabelFloatB": true,
								"noLabelFloatA": false,
								"alwaysFloatLabelB": false,
								"alwaysFloatLabelA": true,
								"inputValueB":formArray[i],
								
							}
						);
					console.log(this.inputLabelA);	
					}

			}

			onInputChange(e){
				console.log(e.target, e.target.propname);
				var newVal = e.target.value;
				if(this.dataObject[e.target.propname].type == "number")
				{
					newVal = parseInt(e.target.value);
				}
				this.dataObject[e.target.propname].value = newVal;
				console.log(this.dataObject);
			}

			absorbObject(argObj)
			{
				this.dataObject = argObj;
				var keys = Object.keys(argObj);
				var numKeys = keys.length;
				var i = 0;
				for(i=0; i < numKeys;i++)
				{
					var inputObj = {};
					var prop = argObj[keys[i]];
					console.log(prop);
					if(prop.type != "function" && prop.formIndex != null)
					{
						inputObj.type = prop.type;
						inputObj.inputTypeB = prop.type;
						inputObj.label = prop.label;
						inputObj.propname = keys[i];
						inputObj.formIndex = prop.formIndex;
						inputObj.value = prop.value;
						console.log(inputObj);
						this.push("mcInputArray", inputObj);
					}
				}
				this.mcInputArray.sort( (val1, val2) => { return val1.formIndex < val2.formIndex; });
			}
				_computeDataSourcePaperInputs(dataDouble){
						return dataDouble;
				}
				_computeMyBInputStyle(stylePreferenceString){
					return "tab-button";

				}
				_computeSuffixB(isSuffixB, secondaryLabelB){
					var suffix = (isSuffixB)?`suffix`: "";
					return `$(suffix)`;
				}

				
			}//end of Class
			Polymer(FCInputSetGenerator);
		})();
	</script>
</dom-module>
