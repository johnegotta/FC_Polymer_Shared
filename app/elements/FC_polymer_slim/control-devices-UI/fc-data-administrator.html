<dom-module id="fc-data-administrator">
	
	<template>
<style>
	 	#div1 {
	 		min-width:340px;
	 		height:480 px;
	 		padding:10px;
	 		border:1px solid #aaaaaa;
	 		resize: both;
	 	}
	 	article { display: block;}
	  	
		div.assistView::--webkit-scrollbar {
					display: none;
			}
		
		paper-dialogue-scrollable::--webkit-scrollbar {
					display: none;}
	
			paper-dialog {
				font-family: merriweather;
			  	font-size: 1.05em;
				display: block;
				min-width: 270px;
				max-width: 1080px;
				min-height: 280px;
				flex-basis: 370px;
				overflow: hidden;
				border: 2px ridge #002c90;
				background: #fff;
				border-radius: 8px;
				z-index: 100000;
				opacity: 1;
				display: flex;
				resize: both;
			}
			.subheading{
				font-size: 13px;
				color: brown;
				font-weight: 800;
			}
			h6.subheading{
				font-size: .6em;
				color: brown;
				font-weight: 800;
			}
			
			.fc-headerclass{
				padding: 4px 2px 2px 4px;
				font-family: Merriweather;
				font-size: 26px;
				color: #000066;
				}
			fc-holder{
				margin: 2px 6px 4px 6px;
				border: 2px dashed green;
				padding: 3px;
				max-width: 380px;
			}
			
			h3, h4 {
				color: #000066;
				margin-bottom: 4px;
				margin-top: 8px;
				font-family: Merriweather;
				font-weight: 700;
			}
			section {
			 
			 	overflow-y: scroll;
			}
			iron-page {
				display: float;
				position: relative;
				margin-top: 0px;
				padding-top: 4px;
			}
			p.assistant{
			
				font-family: Times;
				font-size: 14px;
				font-weight: 500px;
				color: goldenrod;
				overflow-y: scroll;
			}
			div.scroll-master{
				height: 98%;
				min-height:460px;
				flex-basis: 340px;
				overflow: hidden;
				overflow-y: scroll;
				border: 0px 3px 0px 3px inset #fffffe;
				border-top: 1px solid #000066;
				border-bottom: 1px solid #000066;
			}
			/*iron-icon{
				height: 32px;
				width: 32px;
				color: #000066;
				background: #aecdfe;
			}*/
			
			iron-pages
			{
			
				position: relative;
				display: block;
			}
			.dragbox
			{
					
				}
			p{max-width: 350px;}
		
</style>
	<span hidden$={{hideButton}}>
		<button class="right" on-tap="_openAdmin">
			<iron-icon
				icon="hardware:dock"  
				
				track
				class="dragbox"
				>
				</iron-icon>
		</button>
	</span>
<!-- on-mousedown="_openAdmin" -->
								
<paper-dialog 
	id="dragAdmin" 
	class="layout vertical container" 
	style="display: block; overflow: auto; resize: both; position:absolute;"  
	draggable="true" 
	no-cancel-on-outside-click="true"
	track
	>


	<div class="fc-headerclass horizontal layout" 
			track style="padding-bottom: 4px;">
			<button><iron-icon
				icon="hardware:dock"  
				on-mousedown="_startDrag"
				track
				class="dragbox"

			
				>
		</iron-icon>
								<span 
										class="center-justified" 
										style="width: 100%; padding: 8px; margin: 4px; font-weight: 700; font-family: merriweather; font-size: 26px; color: #002c90;"
								>
										The Focused Data Admin


								</span><!--Titling-->

		<button><iron-icon
			icon="icons:close"  
			on-tap="_closeAdmin"
			>
		</iron-icon>
		</button>






	</div>
	<div class="scroll-master">
		<iron-pages id="administratorPages" style="position: relative;" selected="0">
				<section>
				<b>Welcome to the Focused Data Administrator!</b><br>
				<p>Use the Data Admin to view pages on the Focused website, in a Focused app, or in your personal area at focused.  The Admin is like your own personal "second" view into everything Focused.  You can view or do anything on the admin which you could do on a normal Focused Dashboard, or webpage, so in one sense the Admin acts as a second "tab" or "window" for your Focused experience.  The Admin window, however, is "always on top" and will travel with you across different pages and interfaces.</p>
				<p>We created the Focused Data Admin because it was a feature many of us at Focused had always wanted on web pages and in applications: a window and interface that we could keep on top of the other windows and tabs, which we could take notes in, use for calculations--the Data Admin has a calculator in it--or just use to always have at easy reference all the information we felt was most useful.</p>
				<p> Good Luck! And, Enjoy!!!</p> 


				</section>

			<section>
				<!--<fc-cell-creator>
				</fc-cell-creator>-->
				<div class="vertical layout flex-box">
				
				<fc-holder class="horizontal layout flex-box container top left-justified">
					
					<paper-input value='{{sectionType}}' style="max-width: 340px; flex-basis: 110px;" list="SectionType" always-float-label='true' label='Section Type'></paper-input>
					<datalist name="Test Number" list="Test Number" id="SectionType">
						<option> Math 55 Questions</option>
						<option> Math 25 Questions</option>
						<option> Reading 52 Questions</option>
						<option> Writing 40 Questions</option>
						<option> Essay Prompt and Passage</option>
					</datalist>
					<paper-input value='{{sectionSubType}}' style="max-width: 340px; flex-basis: 110px;" list="subSection" always-float-label='true' label='Sub-Section Type'></paper-input>
					<datalist name="subSection" list="subSection" id="subSection">
						<option> Vocabulary Focused</option>
						<option> Rights Focused </option>
						<option> Language and Culture Focused</option>
						<option> Science Focused</option>
						<option> Soft-Science/Business Focused</option>
					</datalist>

				</fc-holder>
				<fc-holder>
					<paper-dropdown-menu name="selectedPassage" always-float-label label="Select A Passage" on-iron-select="">
						<paper-menu id="passageListMenu" class="dropdown-content" attr-for-selected="value" selected="{{selectedPassage}}">
							<template is="dom-repeat" items="{{passageDestinations}}" filter="passageFilter(testId)">
								<paper-item value="{{item}}">{{item}}</paper-item>
							</template>
						</paper-menu>
					</paper-dropdown-menu>
						<paper-input value='{{passageTitle}}' style="max-width: 340px; flex-basis: 110px;" always-float-label='true' label='Passage Type'></paper-input>
				</fc-holder>
				<fc-holder "horizontal layout no-wrap container">
					<paper-input value='{{passageSubType}}' style="max-width: 340px; flex-basis: 110px;" always-float-label='true' label='Your Name'></paper-input>
					<paper-textarea value='{{passageBlurb}}' style="max-width: 340px; flex-basis: 110px;" always-float-label='true' label='Passage Blurb'></paper-textarea>
				</fc-holder>
				</div>
			</section>
			<section class="vertical layout flex container">
				<div id="firepad" style="border: 6px ridge silver; overflow: auto;resize: auto; min-height: 420px; flex-basis: 620px;" class="fit">
					
				</div>
				




			</section>
			<section>
				<h3> Building Cells</h3>
				<h5> Cell Builder One</h5>
			</section>
<section>




</section>



				
	</iron-pages>
</div>
			
<div style="width: 100%; margin: 0px auto; padding: 8px;" class="horizontal layout center-justified">	
				<paper-button class="flex-1" on-tap="_lastAdminPage">Back</paper-button>
				<paper-button class="flex-1" on-tap="_nextAdminPage">Next</paper-button>
</div>
	
</paper-dialog>
</template>
<script>  
	Polymer({
		is: 'fc-data-administrator',
		properties:{
		offsetX: {
				type: Number,
				notify: true,
				reflectToAttributes: true
				},
		offsetY: {
				type: Number,
				notify: true,
				reflectToAttributes: true
				},
		dragging: {
				type: Boolean, 
				value: false, 
				notify: true
			},

		timeout: {
				type: Boolean, 
				value: false, 
				notify: true
			},
		open: 	{
			type: Boolean,
			value: false, 
			notify: true
			},
		currentDragger:{
			type: Object,
			notify: true,
			reflectToAttributes: true
		},
		getFocused: {
			type: Boolean,
			value: false,
			notify: true,
			reflectToAttributes: true

		}, 


//end of the movement section 
//test sections. Actual content
		yourName: {
			type: String,
			value: "use your name",
			notify: true
		},
		passageTitle: {
			type: String,
			value: 'none',
			notify: true
		},
		passageBlurb:{
			type: String,
			value: 'none',
			notify: true
		}, 

		truePassageArray:{
			type: Array,
			value: [],
			notify: true
		},
		passageArray:{
			type:Array,
			value: [],
			notify: true
		},

		passagesArray: {
			type: Array,
			value: [],
			notify: true
		},
//last array will hold all passages--so fast
//Test Input and  Storage 
//firebase and firepad input
//key to use unique ids so we dont work on each others test creation
		firepad: {
			type:Object,
			value:{},
			notify: true,
			reflectToAttributes: true	
		},
		firepadRef: {
			type:Object,
			value:{},
			notify: true,
			reflectToAttributes: true	
		},
//test key and firebase location creation
//These are inputs
		fcid:{
			type: String,
			value: '20_digit_Letter_underscore_spaced_unique_semantic_id',
			notify: true,
			reflectToAttributes: true
		},
		testId: {
			type: String,
			value: "secret",
			notify: true
		},
		sectionType: {
			type: String,
			notify: true
		},
		sectionSubType:{
			type: String,
			notify: true
		},
		selectedPassage: {
			type: String,
			notify: true
		},
		sectionCount:{
			type: Number,
			value: 0,
			notify: true
			//observer of database to be sure no over writing!!!
		}, 

		saveCounter: {
			type: Number,
			value: 0,
			notify: true
		},

		focusedCounter: {
			type: Array,
			value: ['something','focused'],
			notify: true
			},
		hideButton: {
			type: Boolean,
			value: function(){
				return false;
			},
			notify: true,
			reflectToAttribute: true
		},

	//necessary technical reference arrays
	//we should use these in the testing phase... although rapid integration of the above is needed.

	newPassageRef: {
			type: Number,
			value: 0,
			notify: true
		},

	passageDestinations: {
			type: Array,
			value: [],
			notify: true
		}
		


		
	},
	created: function(){
	 	//here is where we build out our prototypes, set properties
		},
	ready: function() { 
		
		},
	attached: function() { 
		this.loadFirepad();
		//this.loadPassages();
			
			},
	_openAdmin: function() {
  			console.log(this.passageDestinations + "sandles");
			this.$.dragAdmin.open();
				
	},

	_closeAdmin: function(){
		this.$.dragAdmin.close();


	},

 	_nextAdminPage: function() {
 			 var pages = this.$.administratorPages;
    			pages.selectNext();
  				
  				},
  	
	_lastAdminPage: function(){
			var pages = this.$.administratorPages;
    			pages.selectPrevious();
	},




	_startDrag: function(e){
		
			//console.log(e);
			this.dragging=true;
			var dragbox = this.$.dragAdmin.getBoundingClientRect();
			this.offsetX = e.offsetX;
			//console.log(this.offsetX);
			var Xoff = this.offsetX = e.offsetX;
			var Yoff = this.offsetY = e.offsetY;
			//console.log(Yoff);
			document.captureEvents(Event.MOUSEMOVE);
			document.onmousemove = dragmeplease;
			function dragmeplease(mp){
				var _x = mp.clientX - Xoff;
				var xString = _x.toString() + 'px';
				var	_y = mp.clientY - Yoff; 
				var yString = _y.toString() + 'px';
		  		document.querySelector('#dragAdmin').style.top = yString;
		  		//console.log("_y has this value here " + _y);
		  		document.querySelector("#dragAdmin").style.left = xString;
		  		//console.log(_x + " that was x");
		  	document.captureEvents(Event.MOUSEUP);
			document.onmouseup = endThisPlease;
			function endThisPlease(omu){
				//console.log(omu.detail);
				document.onmousemove = null;
				document.onmouseup = null;
			}
	
	}
},


// 			console.log(e);
// 			this.dragging=true;
// 			var dragbox = this.$.dragDialogAdmin.getBoundingClientRect();
// 			this.offsetX = e.offsetX;
// 			//console.log(this.offsetX);
// 			var Xoff = this.offsetX = e.offsetX;
// 			var Yoff = this.offsetY = e.offsetY;
// 			//console.log(Yoff);
// 			var self=this;
// 			document.captureEvents(Event.MOUSEMOVE);
// 			document.onmousemove = dragme;
// 			function dragme(mp){
// 				var _x = mp.clientX - 30;
// 				var xString = _x.toString() + 'px';
// 				var	_y = mp.clientY -30; 
// 				var yString = _y.toString() + 'px';
// 		  		document.querySelector('#dragDialogAdmin').style.top = yString;
// 		  		//console.log("_y has this value here " + _y);
// 		  		document.querySelector("#dragDialogAdmin").style.left = xString;
// 		  		//console.log(_x + " that was x");
// 		  	document.captureEvents(Event.MOUSEUP);
// 			document.onmouseup = endThisPlease;
// 			function endThisPlease(omu){
// 				//console.log(omu.detail);
// 				document.onmousemove = null;
// 				document.onmouseup = null;
// 			}
	
// }
// }
// }, 
	

	loadFirepad: function(){
		this.firepadRef = new Firebase('https://focusedstaging1.firebaseio.com/firepad');
  		this.codeMirror = CodeMirror(this.$.firepad, { lineWrapping: true });
  		this.firepad = Firepad.fromCodeMirror(this.firepadRef, this.codeMirror,
      		{richTextShortcuts: true, richTextToolbar: true, defaultText: 'Welcome to the Focused Data Administrator' });
		this.passage_width = 400;
	},

	_savePassage: function(){

		var blurb = this.passageBlurb;
		var passageTitle = this.passageTitle;
		var passageType = this.passageType;
		var test = this.testId;
		var fcid = this.fcid;
		var self = this;
		var passageContent = self.firepad.getText();
			var truePassageContent = passageContent.replace(/[\—]/g, " — ");
			var arrayPassed=truePassageContent.split(/\s/g);
			var order =arrayPassed.length;
			self.orderIndex=0;
			this.newPassageRef="https://focusedstaging1.firebaseio.com/passagesDestinations/new_Test_" + (this.saveCounter + 1).toString();
			console.log("this is the passage ref" + this.newPassageRef);
			self.paragraphArray = truePassageContent.split(/\n/);
			var ref = new Firebase(this.newPassageRef);
				self.passageArray = [];
				var i = self.paragraphArray.length-1;
				for(; i> 0; i--)
					{
						console.log(i + " " + self.paragraphArray[i]);
					var wordCounter = 0;
					var newPara = false;
					var wordArray = self.paragraphArray[i].split(/\s/g);
					var paraWordRemaining = wordArray.length-1;
					var paragraph_number = Math.ceil(i/2);
					var isLastWordOfPara =false;
					var currentWord;
					var orderIndex = this.orderIndex;

 					while(paraWordRemaining>=0)
 					// para word loop
 					{       
 							self.orderIndex++;
 							order--;
 							self.wordCounter--;
 							if (paraWordRemaining==0){
 								newPara = true;
 								
 								
 							}
 							else if(wordCounter==0)
 							{ 
 			
 								isLastWordOfPara = true;
 							}
 							else{
 								newPara=false;
 								isLastWordOfPara=false;
 							
 							}
 								
 								currentWord = wordArray[paraWordRemaining];	      				
 								self.push("passageArray",
 									{ 
 										"passageTitle": passageTitle,
 										"passageBlurb": blurb,
 										"indexPrime":orderIndex,
 										'order': order,
 										'word' : currentWord, 
 										'newPara': newPara,
 										'paragraph_number': paragraph_number,
 										'isLastWordOfPara':isLastWordOfPara,
 										'paragraphsRemaining': i
 									});
 								wordCounter++;
 								paraWordRemaining--;
 							} //SINGLE word entry ends here, WOULD LOVE TO CUT THIS IN HALF
						}//SINGLE line loop
					//this is the paragraph for loop
					var arrayPassage = self.passageArray.reverse();
					ref.set(arrayPassage);
					console.log(arrayPassage);
					self.passageArray = [];
					order=0;
			//	this is the loop for a whole passage. When Dynamic this loop goes away	
		//this ends the firepad stuff			
	},

	_clearPassage: function(){
			var adminStorage2 = window.localStorage;
			var len = this.superItemArray.length;
			var franklin = this.superItemArray[1];
			var name = this.superItemArray[1].Full_Name;
			var email = this.superItemArray[1].Email;
			alert(JSON.stringify(this.superItemArray[1]));
			adminStorage2.setItem(name,email,len);
			
		},

	_clearFirepadMemory: function()
	{
		
 	
	}

 });

</script>
</dom-module>


<!--	
		superItemArray:{
			type:Array,
			value: [],
			notify: true,
			reflectToAttributes: true
		},


_startDrag: function(e){
			//console.log(this.passageDestinations + " fire in the sky " + this.passageArray.order);
			console.log(e);
			this.dragging=true;
			var dragbox = this.$.dragDialogAdmin.getBoundingClientRect();
			this.offsetX = e.offsetX;
			//console.log(this.offsetX);
			var Xoff = this.offsetX = e.offsetX;
			var Yoff = this.offsetY = e.offsetY;
			//console.log(Yoff);
			document.captureEvents(Event.MOUSEMOVE);
			document.onmousemove = dragmeplease;
			function dragmeplease(mp){
				var _x = mp.clientX - 30;
				var xString = _x.toString() + 'px';
				var	_y = mp.clientY -30; 
				var yString = _y.toString() + 'px';
		  		document.querySelector('#dragDialogAdmin').style.top = yString;
		  		//console.log("_y has this value here " + _y);
		  		document.querySelector("#dragDialogAdmin").style.left = xString;
		  		//console.log(_x + " that was x");
		  	document.captureEvents(Event.MOUSEUP);
			document.onmouseup = endThisPlease;
			function endThisPlease(omu){
				//console.log(omu.detail);
				document.onmousemove = null;
				document.onmouseup = null;
			}
	
	}
} 
});


		-->
		


<!--
getData: function(argItem)
	{
		
		this.fcid = argItem;
		if(this.scores.hasOwnProperty(argItem))
		{
		
			return ['PRETEST: ' + this.scores[argItem].scoresPreTest + "  \n\r",
					'TEST 1: ' + this.scores[argItem].scoresTest1 + "    |||    ",
					'TEST 2: ' + this.scores[argItem].scoresTest2 + "    |||    ",
					'TEST 3: ' + this.scores[argItem].scoresTest3 + "    |||    ",
					'TEST 4: ' + this.scores[argItem].scoresTest4 + "    |||    ",
					'TEST 5: ' + this.scores[argItem].scoresTest5 + "    |||    ",
					'TEST 6: ' + this.scores[argItem].scoresTest6 + "    |||    ",
					'REAL SAT: ' + this.scores[argItem].realSAT + "    |||    "
					];
		}
	},
<h3> Cell Creation Page</h3>
				<paper-input>lolo</paper-input>
				<paper-input>lolo</paper-input>
				<div style="border: 5px ridge silver; width: 240px; height: 120px;"> 
					<h6>BUILD HERE</h6>
				</div>
				<paper-button>Save To Collection</paper-button>
				<input list="collectionsList" placeholder="Collection List">
					<data-list name='collectionsList'>
						<option>1</option>
						<option>2</option>
						<option>3</option>
						<option>4</option>
						<option>5</option>
					</data-list>
				<h3> Card Creation Page</h3>
				<paper-input>lolo</paper-input>
				<paper-input>lolo</paper-input>
				<div style="border: 5px ridge silver; width: 240px; height: 120px;"> 
					<h6>BUILD HERE</h6>
				</div>
				<paper-button>Save To Collection</paper-button>
				<input list="collectionsList" placeholder="Collection List">
					
				<h3> Layout Creation Area</h3>
				<paper-input>lolo</paper-input>
				<paper-input>lolo</paper-input>
				<div style="border: 5px ridge silver; width: 240px; height: 120px;"> 
					<h6>BUILD HERE</h6>
				</div>
				<paper-button>Save To Collection</paper-button>
				<input list="collectionsList" placeholder="Collection List">
					
	
			<h3> Graphs and other Data Representation</h3>
				<paper-input>lolo</paper-input>
				<paper-input>lolo</paper-input>
				<div style="border: 5px ridge silver; width: 240px; height: 120px;"> 
					<h6>BUILD HERE</h6>
				</div>
				<paper-button>Save To Collection</paper-button>
				<input list="collectionsList" placeholder="Collection List">
					<datalist id="collectionsList">
						
					</datalist>
			<h3> Build Elements From Template Elements</h3>
				<p class="administratorView container" no-cancel-on-outside-click="true">
		
				
				<h3>Your Element Collections </h3>
				
				<details>
				<summary> <b>Dashboard Top-View Collection</b></summary>
					<ul> Here are your Elements As Assembled in your Top-View Dashboard
						
						<li> Six with Picture</li>
					</ul>
				</details>
				<details>
				<summary> <b>Dashboard Top-Bottom Grid-Full View Collection</b></summary>
					<ul> Here are your Elements As Assembled in your Top-Bottom/ Grid-Full View Collection
						
						<li> Six with Picture</li>
					</ul>
				</details>
				<details>
				<summary> <b>DashBoard Four Panel Two-by-Two Collection</b></summary>
					<ul> Here is your Four Panel Collection
						
						<li> Six with Picture</li>
					</ul>
				</details>
				<details>
				<summary> <b>DashBoard Four Panel Full Screen Collection</b></summary>
					<ul> Here is your Four Panel Full Screen Collection
					<template is="dom-repeat" items={{superItemArray}}>
						<li>{{item.fcid}}</li>
						<li>{{item.Email}}</li>
						<li>{{item.Full_Name}}</li>
					
						</template>
					</ul>
				</details>
				-->		
				<!--"\n Akira came directly, breaking all tradition. Was that it? Had he followed form—had he asked his mother to speak to his father to approach a go-between—would Chie have been more receptive? \n He came on a winter’s eve. He pounded on the door while a cold rain beat on the shuttered veranda, so at first Chie thought him only the wind. The maid knew better. Chie heard her soft scuttling footsteps, the creak of the door. Then the maid brought a calling card to the drawing room, for Chie. \n Chie was reluctant to go to her guest; perhaps she was feeling too cozy. She and Naomi were reading at a low table set atop a charcoal brazier. A thick quilt spread over the sides of the table so their legs were tucked inside with the heat.  \n “Who is it at this hour, in this weather?” Chie questioned as she picked the name card off the maid’s lacquer tray. \n “Shinoda, Akira. Kobe Dental College,” she read. \n Naomi recognized the name. Chie heard a soft intake of air. \n “I think you should go,” said Naomi. \n Akira was waiting in the entry. He was in his early twenties, slim and serious, wearing the black military-style uniform of a student. As he bowed-his hands hanging straight down, a black cap in one, a yellow oil-paper umbrella in the other—Chie glanced beyond him. In the glistening surface of the courtyard’s rain-drenched paving stones, she saw his reflection like a dark double. \n “Madame,” said Akira, “forgive my disruption, but I come with a matter of urgency.” \n His voice was soft, refined. He straightened and stole a deferential peek at her face. \n In the dim light his eyes shone with sincerity. Chie felt herself starting to like him. \n “Come inside, get out of this nasty night. Surely your business can wait for a moment or two.” \n “I don’t want to trouble you. Normally I would approach you more properly but I’ve received word of a position. I’ve an opportunity to go to America, as dentist for Seattle’s Japanese community.” \n “Congratulations,” Chie said with amusement. “That is an opportunity, I’m sure. But how am I involved?” \n Even noting Naomi’s breathless reaction to the name card, Chie had no idea. Akira’s message, delivered like a formal speech, filled her with maternal amusement. You know how children speak so earnestly, so hurriedly, so endearingly about things that have no importance in an adult’s mind? That’s how she viewed him, as a child. \n It was how she viewed Naomi. Even though Naomi was eighteen and training endlessly in the artsneeded to make a good marriage, Chie had made no effort to find her a husband. Akira blushed. \n “Depending on your response, I may stay in Japan. I’ve come to ask for Naomi’s hand.” \n Suddenly Chie felt the dampness of the night. \n “Does Naomi know anything of your... ambitions?” \n “We have an understanding. Please don’t judge my candidacy by the unseemliness of this proposal. I ask directly because the use of a go-between takes much time. Either method comes down to the same thing: a matter of parental approval. If you give your consent, I become Naomi’s yoshi. We’ll live in the House of Fuji. Without your consent, I must go to America, to secure a new home for my bride.” \n Eager to make his point, he’d been looking her full in the face. Abruptly, his voice turned gentle. \n “I see I’ve startled you. My humble apologies. I’ll take no more of your evening. My address is on my card. If you don’t wish to contact me, I’ll reapproach you in two weeks’ time. Until then, good night.” He bowed and left. Taking her ease, with effortless grace, like a cat making off with a fish. \n “Mother?” Chie heard Naomi’s low voice and turned from the door. “He has asked you?” \n The sight of Naomi’s clear eyes, her dark brows gave Chie strength. Maybe his hopes were preposterous. \n “Where did you meet such a fellow?” Chai began.  “Imagine! He thinks he can marry the Fuji heir and take her to America all in the snap of his fingers!” \n Chie waited for Naomi’s ripe laughter. Naomi was silent. She stood a full half minute looking straight into Chie’s eyes. Finally, she spoke: \n “Mother.” \n “Yes?” \n “I mean to have him.”\n\n";-->
	<!--	var setFB = new Firebase("https://focusedstaging1.firebaseio.com/students"); 
	    var self = this;
	    setFB.on("value", function(snap){
	    var theSet = snap.val();
		//console.log(theSet);
	    var counterone = 0;
		var keyfirst = Object.keys(theSet);
		var limit = keyfirst.length;
		//console.log(limit);
	
	     for(counterone = 0; counterone < limit; counterone++){
	     	var testKeys =  Object.keys(theSet[keyfirst[counterone]].test_results);
			var testCounter = testKeys.length;
	     	
	     	var studenters = keyfirst[counterone];
			//alert(testCounter + "c " + studenters);
			var full = theSet[keyfirst[counterone]].first_name + " " + theSet[keyfirst[counterone]].last_name;
			self.push('superItemArray', {
						'Full_Name' : full,
						'fcid': theSet[keyfirst[counterone]].student,
						'Email': theSet[keyfirst[counterone]].email,
						'Test_Results': {function(){
			
					     	var testFB = new Firebase("https://focusedstaging1.firebaseio.com/test_results");
					     	var thisTestResult = this;
					     	testFB.orderByChild('student').equalTo(studenters).on("value", function(snapshot){
					    			var testies = snapshot.val();
					    			var testcounter = testies.length;
					    			//console.log(testcounter);
					    			var i = 0;
					    			for(i=0; i<testcounter; i++){
						     			var keysInTestResults = Object.keys(testies);
						     			var FITRs = keysInTestResults.length;
						     			console.log(Object.keys(testies[keysInTestResults[j]]));//values we want;
						     			var scoreHeaders = Object.keys(testies[keysInTestResults[0]]);
										var it = testies[keysInTestResults[j]].values();
										var entry;
											while (!(entry = it.next()).done) {
    											console.log(entry.value);
    											self.push('superItemArray', entry.value);
												}
											//console.log(entry.value);
												return entry.value;
										};
	     							
	    							});
	    						}
	     					}
						});
					
				}
			});-->