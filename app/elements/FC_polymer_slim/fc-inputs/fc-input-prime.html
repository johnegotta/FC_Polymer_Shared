<dom-module id="fc-input-prime">
<style>
:host{
	display: block;
	padding: 3px;
	margin: 3px;
	background: inherit;
	@apply(--vertical-layout-flex);

}
span.radio: {
	position: absolute;
	right: 0px;
	top: 10px;
	left: 8px;
	left-margin: 3px;
}
input{ padding: 4px;
margin: 4px;
@apply(--horizontal-layout-flex);}

section[name=section1].text {
 border: 0px solid #999;

  font-family: merriweather;
  font-size: 14px;
  color: #008;
  font-weight: 600;
 
  padding: 8px;
}
label.datetime-local{
font-family: merriweather;
 font-size: 14px;
 font-weight: 600;
	padding-left: 6px;
	color: #008;
}

iron-icon{display: none;}
input.text, input.datetime-local, input.date,  input.range, input.tel,  input.email{

  border: 0px solid #999;
  border-bottom: 2px solid #008;
  font-family: merriweather;
  font-size: 14px;
  background: inherit;
}
section: {
	min-width: 147px;
	max-width: 620px;
	margin: auto;
	padding: auto;}
.wrapper{max-width: 660px;}
.wrapper-text-focus{

	color: blue;
	font-weight: 700;

}
input.text:focus, input.datetime-local:focus, input.date:focus,  input.range:focus,  .number:focus, input.tel:focus,  input.email:focus {
	border: 0px dashed #fff;
	outline: 0px;
	box-shadow:0px;
	border-bottom:2px solid blue;
	color:  brown;
	font-weight: 700;

}
input[type=button]{
background: #efefef;
	min-width: 110px;
	height: 64px;
	color: black;
	outline: 0px;
	font-size: 14px;
	font-family: merriweather;
	font-weight: 500;

}
input[type=button]:hover, input[type=button]:active,{
	color: gold;
	outline: 2px solid silver;

	}
span[name=span1].button{
	color: black;
}
span[name=span4].checkbox{display: none; opacity: 0; visibility: none;}


iron-icon[name=icon]{display: block;}

/*icon3 moves to right of inputs*/

input.number{ border: 0px solid #999;
	border-bottom:2px solid #008;
  font-family: merriweather;
  font-size: 14px;
  color: #008;
padding:4px;
margin: 4px;
line-height: .5;}

label.datetime-local{
font-family: merriweather;
 font-size: 14px;
 font-weight: 600;
	padding-left: 6px;
	color: #008;


}
label.number {
	margin-left: 4px;
	padding: 2px 2px 0px 2px;
	margin: 0px; height: 16px;

	font-size: 14px;}}
}
.twocolumn{

}

/* CHECKBOXES*/
iron-icon[name=icon5].checkbox{display: inline-block;}
label.checkbox {
    display: inline-block;
    background: inherit;
	float: right;
    padding:2px;
    margin: 2px;
}
input[type=checkbox]{
	outline:4px;
	
}
input[type=checkbox]{
    width : 24px;
    height: 24px;
    color: green;
    

}
label.range{
	font-size: 14px;
}
span.range{
	font-size: 14px;
}
input[type=checkbox]:checked{
   outline: 3px solid green;
   background: inherit;
}
/*.wrapper-checkbox-checked{
	color: green;
	font-weight: 700;
	padding-right: 10px;
	margin-right: 10px;
}*/

:host.wrapper-checkbox-checked label.wrapper-checkbox-checked{
	color: green;
	font-weight: 600;
	padding-right: 10px;
	margin-right: 10px;
}
label.checkbox{
	font-size: 14px;
	padding-right: 4px;
	margin-right: 4px;
	@apply(--horizontal-layout)
}
/*radio buttons*/
input[type=radio]:checked {outline: 3px ridge green;}
label.radio{
	font-size: 14px;
	float: right;
}
label.radio.test{
font-size: 12pt;
}

input[type=radio]{
	outline: 0px;
	width: 24px;
	height: 24px;
}

input[type=radio]:checked {
	width: 24px;
	height: 24px;
	color: green;

}
section.range{ 

@apply(--horizontal-layout);
@apply(--flex-layout);
@apply(--layout-center);
}
input.range{
	@apply(--horizontal-layout);
@apply(--flex-layout);
@apply(--flex-stretch-self);
width: 120%;
}
label{padding-left: 4px;}
</style>
<template>

<section 
	name="section0" class$="horizontal [[inputType]] [[_computeHorizontal(inputType)]] [[_computeLayout0(inputType,isIcon)]] [[horizontal]]">
	<!--icon button one-->		<span id="span0"
									hidden$="[[span0hide]]"
									name$="[[span0]]"
									class$="[[_computeSpan0Class(inputType)]]">
									<iron-icon
										hidden$="[[icon0hide]]"
										name$="[[icon0]]"
										>
										<!-- class$="[[_computeIcon0Class(inputType)]]" -->
									</iron-icon>
								</span>
	<!--end icon button one-->
	<section 
		id="section1"
		name="section1"
		class$="[[inputType]] [[_computeLayout2(icon2)]] [[horizontal]][[_computeHorizontal(inputType)]]">

<!--begin icon-button two-->			
		<span name="span1" id="span1" class$="[[inputType]]" hidden$="[[!_computeLayout3(inputType, icon1)]]" for="[[myInputName]]"><!-- [[inputType]] 3A -->
			<iron-icon 
				name="icon1"
				icon="[[icon1]]" 
				class$="[[inputType]]" 
				hidden$="[[!icon1]]">
			</iron-icon>
		</span>
<!--end icon button two--><!-- [[isTimeStamp]] -->
		<label
			name$="[[labelName]]"
			hidden$="[[labelHidden]]" 
			id$="[[labelId]]" 
			for$="[[inputId]]" 
			class$="[[inputType]] [[isTest]]"
			>
			[[label]] 
		</label>
<!--Note removed their value attribute... was binding without;
will return if must-->
		<input 
			is="iron-input" 
			id$="[[inputId]]"
			bind-value="{{value}}"
			checked="{{checkedProp::change}}"
			
			on-change="_onChange"
			on-focus="doAnimation" 
			on-blur="unDoAnimation"
			multiple$="[[item.multiple]]"
			disabled$="[[disabled]]"
       		title$="[[title]]"
       
        	invalid="{{invalid}}"
        	prevent-invalid-input="[[preventInvalidInput]]"
        	allowed-pattern="[[allowedPattern]]"
        	validator="[[validator]]"
        	pattern$="[[pattern]]"
        	
        	autocomplete$="[[autocomplete]]"
        	autofocus$="[[autofocus]]"
        	inputmode$="[[inputmode]]"
        	minlength$="[[minlength]]"
        	maxlength$="[[maxlength]]"
        	min$="[[min]]"
        	max$="[[max]]"
        	step$="[[step]]"
        
        	placeholder$="[[placeholder]]"
        	readonly$="[[readonly]]"
        	range$="{{inputRange}}"
        	size$="[[size]]"
        	autocapitalize$="[[autocapitalize]]"
        	autocorrect$="[[autocorrect]]"
        	on-change="_onChange"
        	tabindex$="[[tabindex]]"
        	autosave$="[[autosave]]"
        	results$="[[results]]"
        	accept$="[[accept]]"
        	
			name$="[[_computeInputName(inputType, radioGroupNameFC, localName)]]" 
			class$="[[inputType]]"
			label$="{{item.inputLabelB}}"
			 type$="{{inputType}}" 
			list$="[[list]]"  
			
			 
			on-track="trackRanger"
			required$="[[required]]"  
			multiple$="[[multiple]]"
			
			meta="{{inputMeta}}"
			

			disabled$="[[disabled]]"
			readonly$="[[readonly]]"

			
						
			
			
			size$="[[item.size]]"
			
			results$="[[item.results]]"
			tab-index='{{item.tabIndexB}}' 
			>
			<!-- data-input-type$=[[]]
			data-layout$=[[]]
			data-source$=[[]] -->
			<!-- invalid$={{item.nothing}}
			prevent-invalid-input=[[item.preventInvalidInput]] 
			allowed-pattern="[[item.allowedPattern]]"
			validator="[[item.validator]]"
			pattern$="[[item.pattern]]"
			accept$="[[item.accept]]"
			autocomplete=true
			autofocus=true
			autocapitalize=true
			autocorrect=on
			autosave=true-->
<!--icon-button-three-->
		<span 
			id="span2"
			name="span2"
			class$="[[inputType]]" 
			>
		<!-- [[inputType]] --> 
			<iron-icon 

				name="icon2"
				icon="[[icon2]]"
				class$="[[inputType]]"
				hidden$="[[hideIcon2]]">
			</iron-icon>
		</span>
<!--end Icon button 3-->
	</section>
	<!-- [[myInputName]] 4.5 -->
</section>
</template>
<script>
FcInputPrime=Polymer({
	is: 'fc-input-prime',
	behaviors:[Polymer.PaperInputBehavior,
			 Polymer.IronFormElementBehavior],
	listeners:{
		'uncheck':"_radioUncheck"
	},
	properties: {
		icon0:{
			type:String,
			value:function(){
				return "icons:today";},
			notify: true
		},

		min: {
			type: Number,
			value: function(){return 0;},
			notify: true
		},
		max: {
			type: Number,
			value: function(){return 1000000;},
			notify: true
		},
		icon1:{
			type:String,
			notify: true,
			value:function(){
				return "icons:dashboard";}
			
		},
		icon2:{
			type:String,
			value:function(){
		 	return "icons:alarm-on";},
			notify: true
		},
		inputId: {
			type: String,
			computed: "_computeInputId(inputType, inputName)", /*this should be hostId, hostContextpartially or mostly for mapping and avoiding weak key maps*/
			notify: true,
			
		},
		
		inputType:{
			type: String,
			observer: '_triggerInputTransformation',
			value: function(){return "text";},
			notify: true
		},
		isIcon: {
			type: Boolean,
		 	value: false,
			notify: true
		},
		isIcon1: {
			type: Boolean,
		 	value: false,
			notify: true
		},
		isIcon2: {
			type: Boolean,
		 	value: false,
			notify: true
		},
		isIcon3: {
			type: Boolean,
		 	value: false,
			notify: true
		},
		 
		isTest: {
			type: String,
			notify: true
						//if is test, enter "test", will change font-size on radio buttons
		},
		label: {
		 	type: String,
		 	notify: true
		},
		labelId: {
			type: String,
			value: function(){
				var rndNum = new Date();
				var labelId = "labelId_" + (rndNum.getTime() + Math.floor((Math.random() * 10000) + 1)).toString();
				return labelId;
				},
			notify: true
			},
		localName:{
			type: String,
			value: function(){
				var rndNum = new Date();
				var localName="localName_" + rndNum.getTime().toString();//should be map area region
				return localName;
			},
			notify: true //local name is the type the use and the count in the page element--we are going to map the mother f-er

		},
		doAgain:{
			type: Number,
			value: function(){
				// var self=this;
				// setInterval(function(){self.updateTime(); }, 999);
				return 1;
			},
			notify: true
		},
		checkedProp: {
			type: Boolean,
			observer: "checkObserver",
			notify: true
		},
		inputValue:{
			type: String,
			notify: true,
		},
		hostAttribute:{
			value:{
				notify: true,
	
			}
		},
		horizontal:{
			type: String,
			computed: '_computeHorizontal(inputType)',
			notify: true,
		
		},
		buttonName: {
			type: String,
			value: function(){
				return "";
			},
			notify: true,
		
		},
		myChecked: {
			type: Boolean,
			value: function(){
				return false;
			},
			notify: true,

		},
		eventsOneThroughFive:{
			type: Function,
			notify: true
		},
		radioGroupNameFC: {
			type: String,
			value: function(){
				var rndNum = new Date();
				var radioGroupNameFC="thisRadioGroupName" + rndNum.getTime().toString();
				
				return radioGroupNameFC;
			},//move up to the controller
			notify: true	

		},
		inputName:{
			type: String,
			computed: "_computeInputName(inputType, localName)",//localName Could be replaced with inputId
			notify: true,
			reflectToAttribute: true
		},
		inputDefaultValue: {
			value: String,
			notify: true
		},
		
		isTimeStamp: {
			type: String,
			computed: "_computeIsTimeStamp(inputType, inputId, currentTime)",
			notify: true
		},
		inputRange:{
			type: Number,
			observer: "rangerOberser",
			notify: true
		},
		currentTime:{
			type: Object,
			computed: '_computeCurrentTime(inputType, doAgain)',
			notify: true,
			reflectToAttribute: true

		}
	},

	checkObserver: function(){
		if(this.inputType=="radio" || this.inputType=="checkbox"){
			this.set('value',this.checkedProp);
			if(this.checkedProp == true && this.inputType=="radio"){
				this.fire('radio-checked-changed',{'name': this.inputName, 'id':this.inputId});
				console.log("IN CHECKOBSERVER", this);
				}
		}
	},
	trackRanger: function(e){
		if(this.inputType=="range"){
		this.$.span1.styles="float: right; right: 2px; margin-left: 80%;"
        switch(e.detail.state) {
          case 'start':
           this.$.span2.innerHTML=this.value;
            break;
          case 'track':
            this.$.span2.innerHTML=this.value;
          
            break;
          case 'end':
            this.$.span2.innerHTML=this.value;
            break;
        }
    	}
     },
     _triggerInputTransformation:function(){
     	if(this.inputType=="range" && (this.value==NaN ||this.value==undefined ||this.value ==null)){
     		this.$.span2.innerHTML=5;}
     	else if(this.inputType == "range"){this.$.span2.innerHTML=this.value}
     	},


	_computeSpan0Class: function(inputType){return inputType},
	_computeSpan0Class: function(inputType){return inputType},
	eventsOneThroughFive: function(e){
		console.log("hey, someone listened",e);
	},
	_computeInputId: function(inputType,inputName)
	{
		var d = new Date();
		var n = d.getMilliseconds();
		var rnd = new Uint32Array(10);
		window.crypto.getRandomValues(rnd);

		// console.log("Your lucky numbers:");
			for (var i = 0; i < rnd.length; i++) {
    			// console.log(rnd[i]);
    			var joe=rnd[0];
    			joe+=rnd[i];
    			// console.log(joe);
    		}
    	var uniqueId=this.inputType +"_" +this.inputName.toString() +"_"+joe.toString();
    		// console.log(uniqueId);
    		return uniqueId;
	},
	ready: function(){
		
		
	},
	_computeCurrentTime: function(inputType, doAgain){
		if(inputType=="datetime-local"){
			var theDate = new Date();	
			var yearNjs = theDate.getYear();
			var yearN = (yearNjs + 1900)
			var year = yearN.toString();
			var monthN = theDate.getMonth() + 1;
			var month = (monthN<10)? "0" + monthN.toString(): monthN.toString();
			var dateN = theDate.getDate();
			var date = dateN<10? "0" + dateN.toString(): dateN.toString();
			var hoursN = theDate.getHours();
			var ampm = hoursN >= 12? "PM": "AM"; 
			//done her for convenience comparison: do right way later//
			var minutesN = theDate.getMinutes();
			var minutes = minutesN<10 && minutesN>0? "0" + minutesN.toString():minutesN==0? "0" +"0": minutesN.toString();
			var secondsN = theDate.getSeconds();
			var seconds =secondsN<10 && secondsN>0? "0" + secondsN.toString():secondsN==0? "0" +"0": secondsN.toString();
			var millisecondsN = theDate.getMilliseconds();
			var milliseconds = millisecondsN ==0? "0" + "0" + "0":millisecondsN >0 && millisecondsN<10? "0" +"0" + millisecondsN.toString(): millisecondsN >=10 && millisecondsN<100? "0" + millisecondsN.toString(): millisecondsN.toString(); 
			var milliseconds = millisecondsN.toString();
			var hoursNUS= hoursN>0 && hoursN>12? (hoursN-12): hoursN == 0? 12: hoursN;
			var hours = hoursNUS <10? "0" + hoursNUS.toString(): hoursNUS.toString();
			var hours24 = hoursN == 0? "0" + "0": hoursN<10 && hoursN>0?"0" + hoursN.toString(): hoursN.toString();
console.log(
				year,
				month,
				date,
				hours,
				minutes,
				seconds,
				milliseconds
	);
	
			
			var timeNow = year+"-"+month+"-"+date+" "+hours+":"+minutes+" "+ampm;
			var timeNowTwo = "Date: " + month + "/"+date+"/"+year+" Time: "+hours+":" + minutes+":"+ seconds+" " + ampm;
			var toInputDateTimeLocal = year+"-"+month+"-"+date+"T"+hours24+":"+minutes;
			var holderObject={
				"year":year, 
				"month":month, 
				"date":date, 
				"hours":hours, 
				"minutes":minutes, 
				"seconds":seconds, 
				"milliseconds":milliseconds,
				"yearN": yearN,
				"monthN": monthN,
				"dateN": dateN,
				"hoursN": hoursN,
				"minutesN": minutesN,
				"secondsN": secondsN,
				"millisecondsN": millisecondsN, 
				"yearNjs": yearNjs, 
				"timeNow": timeNow,
				"timeNowTwo":timeNowTwo,
				"toInputDateTimeLocal":toInputDateTimeLocal

									};
				// this.set("label", timeNowTwo);
				
			
			return holderObject;
		}
	},

	updateTime: function(){
		this.doAgain++;
	},

	_computeIsTimeStamp: function(inputType, inputId, currentTime)
		{
			if(inputType=="datetime-local" && this.doAgain==1){
			 var returnVal=currentTime.toInputDateTimeLocal;
			  return returnVal;
			}
		},
	//Date(year, month, day, hours, minutes, seconds, milliseconds)//

	attached: function(){
		if(this.inputType=="button"){this.set("value",this.buttonName); this.set('icon4', false); this.set('label',"");}
		

	},
	_computeHorizontal: function (inputType){
		var layoutCheck = (inputType!=="radio"&&inputType!=="checkbox")?
			"layout vertical flex": "layout horizontal-layout";
		return layoutCheck;
	},

	_focusedValueChanged: function(){
		this.fire();
	},

	_computeLayout0: function(inputType, icon0){
		var returnClass = (icon0)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout2: function(inputType, icon2){
		var returnClass = (icon2)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout3: function(inputType, icon3){
		var returnClass = (icon3)? inputType.toString() + " icon": inputType.toString();
		this.classList.add("icon");
		return returnClass; 
	},
	_computeLayout4: function(inputType, icon4){
		var returnClass = (icon4)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout5: function(inputType, icon5){
		var returnClass = (icon5)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout6: function(inputType, icon6){
		var returnClass = (icon6)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},

			

	doAnimation: function(e){
		var wrapper=document.getElementById(this.labelId);
		if(e.target.type=="text"|| e.target.type=="datetime-local"|| e.target.type== "date" || e.target.type== "number" || e.target.type=="tel" || e.target.type=="email"){
			Polymer.dom(wrapper).classList.add("wrapper-text-focus");
		}
		else if(e.target.type=="checkbox"){
			if(e.target.checked){this.classList.add("wrapper-checkbox-checked");}
			else if(!e.target.checked){this.classList.remove("wrapper-checkbox-checked");}
		}
		
	},
	
	

	unDoAnimation: function(){
		if (this.inputType=="checkbox")
		{	
			var wrapper = '#' + this.labelId;
			var labelElm=this.$$(wrapper);
			Polymer.dom(labelElm).classList.remove("wrapper-checkbox-checked");
		}
		else
		{
			var wrapper = '#' + this.labelId;
			var labelElm=this.$$(wrapper);
			Polymer.dom(labelElm).classList.remove("wrapper-text-focus");
		}
	},
	
	_onChange: function(e){
		
			var wrapperId=this.labelId;
			var wrapper=document.getElementById(this.labelId);
			//console.log(e.target.checked, e.target.name, this.inputName);
			// this.set("myChecked", e.target.checked);
			//console.log(this.value);
			//Polymer.dom(e.target.bindValue);
			var wrapperId=this.labelId;
			var wrapper=document.getElementById(this.labelId);
			 Polymer.dom(wrapper).classList.add("wrapper-checkbox-checked");
				  	// console.log("I am changing the color");
	},

	_computeInputName: function(inputType, localName){
		var inputNameReturnValue = (inputType=="radio")?"frank": localName;
		return inputNameReturnValue;


	}
// var originalObject = {
//     minimum: 50,
//     maximum: 100,
//     checkNumericRange: function (value) {
//         if (typeof value !== 'number')
//             return false;
//         else
//             return value >= this.minimum && value <= this.maximum;
//     }
// }

// // Check whether 10 is in the numeric range.
// var result = originalObject.checkNumericRange(10);
// document.write(result + " ");
// // Output: false

// // The range object supplies the range for the bound function.
// var range = { minimum: 10, maximum: 20 };

// // Create a new version of the checkNumericRange function that uses range.
// var boundObjectWithRange = originalObject.checkNumericRange.bind(range);

// // Check whether 10 is in the numeric range.
// var result = boundObjectWithRange(10);
// document.write(result);
// // Output: true



});
</script>
</dom-module>



<!-- <fc-paper-input
  		id$="{{item.inputTypeB}}"
  			hidden="true"
 		 	name='radio' 
 		 	tab-index='{{item.tabIndexB}}' 
 		 	label$="{{item.inputLabelB}}"  
 		 	value$='[[bind-value]]'
 		 	always-float-label$={{item.alwaysFloatLabelB}}
 		 	auto-complete=on

 		 	data-inputname$="{{item.item.inputName}}_inputB"
 		 	type$="{{item.inputTypeB}}"
 		 	aria-labelledby$="[[item._ariaLabelledBy]]"
    		aria-describedby$="[[item._ariaDescribedBy]]"
    		disabled$="[[item.disabled]]"
    		no-label-float$=[[item.noLabelFloatB]]
    		invalid$={{item.nothing}}
    		prevent-invalid-input=[[item.preventInvalidInput]]
    		allowed-pattern="[[item.allowedPattern]]"
    		validator="[[item.validator]]"
    		pattern$="[[item.pattern]]"
    		required$=[[item.required]]
    		autocomplete=true
    		autofocus$="[[item.autofocus]]"
    		inputmode$="[[item.inputmode]]"
    		minlength$="[[item.minlength]]"
    		maxlength$="[[item.maxlength]]"
    		min$="[[item.min]]"
    		max$="[[item.max]]"
    		step$="[[item.step]]"
    		placeholder$="[[item.placeholderB]]"
    		readonly$=[[item.readonly]]
    		list$="[[item.list]]"
    		size$="[[item.size]]"
    		autocapitalize=true
    		autocorrect=on
    		autosave=true
    		on-change="_onChange"
    		results$="[[item.results]]"
    		accept$="[[item.accept]]"
    		multiple$="[[item.multiple]]"
    		meta="{{item.inputMetaB}}"
    		fc-secondary-label$="[[item.fcSecondaryLabelB]]"
    		box$="[[item.boxB]]"
    		>
    		 -->
    
  		
    </fc-paper-input>