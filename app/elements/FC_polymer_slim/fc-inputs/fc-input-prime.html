<dom-module id="fc-input-prime">
<style>
:host{
	display: block;
	padding: 3px;
	margin: 3px;
	background: white;
	@apply(--vertical-layout-flex);

}
span.radio: {
	position: absolute;
	right: 0px;
	top: 10px;
	left: 8px;
	left-margin: 3px;
}


section[name=section1].text {
 border: 0px solid #999;

  font-family: merriweather;
  font-size: 18px;
  color: #008;
  font-weight: 700;
 
  padding: 8px;

}

iron-icon{display: none;}
input.text, input.datetime-local, input.date,  input.range,  .number, input.tel,  input.email{

  border: 0px solid #999;
  border-bottom: 2px solid #008;
  font-family: merriweather;
  font-size: 14pt;
}
section: {
	min-width: 147px;
	max-width: 420px;
	margin: auto;
	padding: auto;}
.wrapper{max-width: 360px;}
.wrapper-text-focus{

	color:  #00b33c;

}
input.text:focus, input.datetime-local:focus, input.date:focus,  input.range:focus,  .number:focus, input.tel:focus,  input.email:focus {
	border: 0px dashed #fff;
	outline: 0px;
	box-shadow:0px;
	border-bottom:2px solid #00b33c;
	color:  #brown;
	font-size: 14pt;
}
input[type=button]{
background: #efefef;
	min-width: 110px;
	height: 64px;
	color: black;
	outline: 0px;
	font-size: 22px;
	font-family: merriweather;
	font-weight: 500;

}
input[type=button]:hover, input[type=button]:active,{
	color: gold;
	font-weight: 700;
	outline: 2px solid silver;

	}
span[name=span1].button{
	color: black;
}
span[name=span4].checkbox{display: none; opacity: 0; visibility: none;}


iron-icon[name=icon]{display: block;}

/*icon3 moves to right of inputs*/

input.number{ border: 0px solid #999;
  font-family: merriweather;
  font-size: 24px;
  color: #008;
padding: 4px;}
.twocolumn{

}

/* CHECKBOXES*/
iron-icon[name=icon5].checkbox{display: inline-block;}
label.checkbox {
    display: inline-block;
    background: white;
	float: right;
    padding:2px;
    margin: 2px;
}
input[type=checkbox]{
	outline:4px;
	
}
input[type=checkbox]{
    width : 24px;
    height: 24px;
    color: green;
    

}
input[type=checkbox]:checked{
   outline: 3px solid green;
   background: green;
}
/*.wrapper-checkbox-checked{
	color: green;
	font-weight: 700;
	padding-right: 10px;
	margin-right: 10px;
}*/

:host.wrapper-checkbox-checked label{
	color: green;
	font-weight: 700;
	padding-right: 10px;
	margin-right: 10px;
}
label.checkbox{
	font-size: 22px;
	padding-right: 4px;
	margin-right: 4px;
	@apply(--horizontal-layout)
}
/*radio buttons*/
input[type=radio]:checked {outline: 3px ridge green;}
label.radio{
	font-size: 22px;
	float: right;
}
label.radio.test{
font-size: 14pt;
}

input[type=radio]{
	outline: 0px;
	width: 24px;
	height: 24px;
}

input[type=radio]:checked {
	width: 24px;
	height: 24px;
	color: green;

}
</style>
<template>

<section 
	name="section0" on-tap="eventsOneThroughFive" class$="horizontal [[inputType]] [[_computeHorizontal(inputType)]] [[_computeLayout0(inputType,isIcon)]] [[horizontal]]">
	<!--icon button one-->		<span
									hidden$="[[span0hide]]"
									name$="[[span0]]"
									class$="[[_computeSpan0Class(inputType)]]">[[checkedProp]]
									<iron-icon
										hidden$="[[icon0hide]]"
										name$="[[icon0]]"
										class$="[[_computeIcon0Class(inputType)]]"
										>
									</iron-icon>
								</span>
	<!--end icon button one-->
	<section 
		name="section1"
		class$="[[inputType]] [[_computeLayout2(icon2)]] [[horizontal]][[_computeHorizontal(inputType)]]">

<!--begin icon-button two-->			
		<span name="span1" class$="[[inputType]]" hidden$="[[!_computeLayout3(inputType, icon1)]]" for="[[myInputName]]"><!-- [[inputType]] 3A -->
			<iron-icon 
				name="icon1"
				icon="[[icon1]]" 
				class$="[[inputType]]" 
				hidden$="[[!icon1]]">
			</iron-icon>
		</span>
<!--end icon button two-->
		<label
			name$="[[labelName]]"
			hidden$="[[labelHidden]]" 
			id$="[[labelId]]" 
			for$="[[inputId]]" 
			class$="[[inputType]] [[isTest]]"
			>
			[[label]] 
		</label>
<!--Note removed their value attribute... was binding without;
will return if must-->
		<input 
			is="iron-input" 
			id$="[[inputId]]"
			bind-value$="{{value}}"

			checked="{{checkedProp::change}}"

			on-change="_onChange"
			on-focus="doAnimation" 
			on-blur="unDoAnimation"
			multiple$="[[item.multiple]]"

			name$="[[_computeInputName(inputType, radioGroupNameFC, localName)]]" 
			class$="[[inputType]]"
			label$="{{item.inputLabelB}}"
			 type$="{{inputType}}" 
			list$="[[item.list]]"  
			
			default-value$="[[currentTime::defaultValue]]" 
			
			required$=[[item.required]]  
			multiple$="[[item.multiple]]"
			
			meta="{{item.inputMetaB}}"
			data-input-type$=[[]]
			data-layout$=[[]]
			data-source$=[[]]

			disabled$="[[item.disabled]]"
			readonly$="[[item.readonly]]"

			invalid$={{item.nothing}}
			prevent-invalid-input=[[item.preventInvalidInput]]
			allowed-pattern="[[item.allowedPattern]]"
			validator="[[item.validator]]"
			pattern$="[[item.pattern]]"
			accept$="[[item.accept]]"
						
			autocomplete=true
			autofocus=true
			autocapitalize=true
			autocorrect=on
			autosave=true
			
			size$="[[item.size]]"
			
			results$="[[item.results]]"
			tab-index='{{item.tabIndexB}}' 
			>
<!--icon-button-three-->
		<span 
			name="span2"
			class$="[[inputType]]" 
			>
		<!-- [[inputType]] --> 
			<iron-icon 

				name="icon2"
				icon="[[icon2]]"
				class$="[[inputType]]"
				hidden$="[[hideIcon2]]">
			</iron-icon>
		</span>
<!--end Icon button 3-->
	</section>
	<!-- [[myInputName]] 4.5 -->
</section>
</template>
<script>
FcInputPrime=Polymer({
	is: 'fc-input-prime',
	listeners:{
		'uncheck':"_radioUncheck",
		'gotChecked': 'getunchecked',
		'tap': "eventsOneThroughFive"
	},
	properties: {
		icon0:{
			type:String,
			value:function(){
				return "icons:today";},
			notify: true
		},
		icon1:{
			type:String,
			notify: true,
			value:function(){
				return "icons:dashboard";},
			reflectToAttribute: true
		},
		icon2:{
			type:String,
			value:function(){
		 	return "icons:alarm-on";},
			notify: true
		},
		inputId: {
			type: String,
			computed: "_computeInputId(inputType, inputName)", /*this should be hostId, hostContextpartially or mostly for mapping and avoiding weak key maps*/
			notify: true,
			reflectToAttribute: true
		},
		
		inputType:{
			type: String,
			// observer: '_triggerInputTransformation',
			notify: true
		},
		isIcon: {
			type: Boolean,
		 	value: false,
			notify: true
		},
		isIcon1: {
			type: Boolean,
		 	value: false,
			notify: true
		},
		isIcon2: {
			type: Boolean,
		 	value: false,
			notify: true
		},
		isIcon3: {
			type: Boolean,
		 	value: false,
			notify: true
		},
		 
		isTest: {
			type: String,
			notify: true
						//if is test, enter "test", will change font-size on radio buttons
		},
		label: {
		 	type: String,
		 	notify: true
		},
		labelId: {
			type: String,
			value: function(){
				var rndNum = new Date();
				var inputId = "labelId_" + rndNum.getTime().toString();
				return inputId;
				},
			notify: true,
			reflectToAttribute: true
			},
		localName:{
			type: String,
			value: function(){
				var rndNum = new Date();
				var localName="localName_" + rndNum.getTime().toString();//should be map area region
				return localName;
			},
			notify: true //local name is the type the use and the count in the page element--we are going to map the mother f-er

		},
		checkedProp: {
			type: Boolean,
			observer: "checkObserver",
			notify: true
		},
		
		
		horizontal:{
			type: String,
			computed: '_computeHorizontal(inputType)',
			notify: true,
			reflectToAttribute: true
		},
		buttonName: {
			type: String,
			value: function(){
				return "Titling";
			},
			notify: true,
			reflectToAttribute: true
		},
		eventsOneThroughFive:{
			type: Function,
			notify: true
		},
		radioGroupNameFC: {
			type: String,
			value: function(){
				var rndNum = new Date();
				var radioGroupNameFC="thisRadioGroupName" + rndNum.getTime().toString();
				
				return radioGroupNameFC;
			},//move up to the controller
			notify: true	

		},
		hostAttribute: {
				value: {
					notify: true,
					reflectToAttribute: true,
				}
		},
		inputName:{
			type: String,
			computed: "_computeInputName(inputType, localName)",//localName Could be replaced with inputId
			notify: true,
			reflectToAttribute: true
		},
		
		isTimeStamp: {
			type: Boolean,
			notify: true
		},
		currentTime:{
			type: Date,
			computed: '_computeCurrentTime(isTimeStamp)',
			notify: true,
			reflectToAttribute: true

		},
		checked:{
			type:Function,
			notify: true,
		}
	},

	checkObserver: function(){
		this.set('value',this.checkedProp);
		if(this.checkedProp == true && this.inputType == "radio"){
			this.fire('radio-checked-changed',{'name': this.inputName, 'id':this.inputId});
		}
	},
	_computeSpan0Class: function(inputType){return inputType},
	_computeSpan0Class: function(inputType){return inputType},
	eventsOneThroughFive: function(e){
		console.log("hey, someone listened",e);
	},
	_computeInputId: function(inputType,inputName)
	{
		var d = new Date();
		var n = d.getMilliseconds();
		var rnd = new Uint32Array(10);
		window.crypto.getRandomValues(rnd);

		// console.log("Your lucky numbers:");
			for (var i = 0; i < rnd.length; i++) {
    			// console.log(rnd[i]);
    			var joe=rnd[0];
    			joe+=rnd[i];
    			// console.log(joe);
    		}
    	var uniqueId=this.inputType +"_" +this.inputName.toString() +"_"+joe.toString();
    		// console.log(uniqueId);
    		return uniqueId;
	},
	ready: function(){
		
		if(this.inputType=="datetime-local"){
			{ var timestamp=new Date(); this.set("value",timestamp);
			this.value=timestamp;}

		}
		if(this.inputType==""){}
	},
	_computeCurrentTime: function(isTimeStamp){
		if(isTimeStamp==true){
			var timestamp=new Date();
			return timestamp;
		}
	},

	attached: function(){
		if(this.inputType=="button"){this.set("value",this.buttonName); this.set('icon4', false); this.set('label',"");}
		if(this.inputType=="radio")
			{
				this.set("value","unchecked");
				// console.log("I am a radio " + this.value);
			}

	},
	_computeHorizontal: function (inputType){
		var layoutCheck = (inputType!=="radio"&&inputType!=="checkbox")?
			"layout vertical flex": "layout horizontal-layout";
		return layoutCheck;
	},

	_focusedValueChanged: function(){
		this.fire();
	},

	_computeLayout0: function(inputType, icon0){
		var returnClass = (icon0)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout2: function(inputType, icon2){
		var returnClass = (icon2)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout3: function(inputType, icon3){
		var returnClass = (icon3)? inputType.toString() + " icon": inputType.toString();
		this.classList.add("icon");
		return returnClass; 
	},
	_computeLayout4: function(inputType, icon4){
		var returnClass = (icon4)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout5: function(inputType, icon5){
		var returnClass = (icon5)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout6: function(inputType, icon6){
		var returnClass = (icon6)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_removeColor: function(e){
		var elTarg = e.target;
		var labelId=this.labelId;
		(e.target.checked==false)?
				(Polymer.dom(labelId).classList.remove("wrapper-checkbox-checked") 
				 && elTarg.removeEventListener("change", this._removeColor, false)): console.log("we did a lot");
				
	},
			

	doAnimation: function(e){
		var wrapper=document.getElementById(this.labelId);
		if(e.target.type=="text"|| e.target.type=="datetime-local"|| e.target.type== "date" || e.target.type== "range" || e.target.type== "number" || e.target.type=="tel" || e.target.type=="email"){
			Polymer.dom(wrapper).classList.add("wrapper-text-focus");
		}
		else if(e.target.type=="checkbox"){
			if(e.target.checked){this.classList.add("wrapper-checkbox-checked");}
			else if(!e.target.checked){this.classList.remove("wrapper-checkbox-checked");}
		}
		
	},
	getunchecked:function(){ this.set("value", this.checked)},
	
	

	unDoAnimation: function(){
		var wrapper=document.getElementById(this.labelId);
		Polymer.dom(wrapper).classList.remove("wrapper-text-focus");
	},
	// checked: function(bindVal){
	// 	alert("inchecked");
	// },
	_onChange: function(e){
		//alert("this is the change function" + " " + this.inputType + " " + this.inputId);
		if(this.inputType=="radio"&& e.target.name==this.inputName){
			var wrapperId=this.labelId;
			var wrapper=document.getElementById(this.labelId);
			console.log(e.target.checked, e.target.name, this.inputName);
			this.set('value', e.target.checked);
			console.log(this.value);
			Polymer.dom(e.target.bindValue);
			var wrapperId=this.labelId;
			var wrapper=document.getElementById(this.labelId);
			 Polymer.dom(wrapper).classList.add("wrapper-checkbox-checked");
				  	console.log("I am changing the color");
		} 
	},

	_computeInputName: function(inputType, localName){
		var inputNameReturnValue = (inputType=="radio")?"frank": localName;
		return inputNameReturnValue;


	}
// var originalObject = {
//     minimum: 50,
//     maximum: 100,
//     checkNumericRange: function (value) {
//         if (typeof value !== 'number')
//             return false;
//         else
//             return value >= this.minimum && value <= this.maximum;
//     }
// }

// // Check whether 10 is in the numeric range.
// var result = originalObject.checkNumericRange(10);
// document.write(result + " ");
// // Output: false

// // The range object supplies the range for the bound function.
// var range = { minimum: 10, maximum: 20 };

// // Create a new version of the checkNumericRange function that uses range.
// var boundObjectWithRange = originalObject.checkNumericRange.bind(range);

// // Check whether 10 is in the numeric range.
// var result = boundObjectWithRange(10);
// document.write(result);
// // Output: true



});
</script>
</dom-module>



<!-- <fc-paper-input
  		id$="{{item.inputTypeB}}"
  			hidden="true"
 		 	name='radio' 
 		 	tab-index='{{item.tabIndexB}}' 
 		 	label$="{{item.inputLabelB}}"  
 		 	value$='[[bind-value]]'
 		 	always-float-label$={{item.alwaysFloatLabelB}}
 		 	auto-complete=on

 		 	data-inputname$="{{item.item.inputName}}_inputB"
 		 	type$="{{item.inputTypeB}}"
 		 	aria-labelledby$="[[item._ariaLabelledBy]]"
    		aria-describedby$="[[item._ariaDescribedBy]]"
    		disabled$="[[item.disabled]]"
    		no-label-float$=[[item.noLabelFloatB]]
    		invalid$={{item.nothing}}
    		prevent-invalid-input=[[item.preventInvalidInput]]
    		allowed-pattern="[[item.allowedPattern]]"
    		validator="[[item.validator]]"
    		pattern$="[[item.pattern]]"
    		required$=[[item.required]]
    		autocomplete=true
    		autofocus$="[[item.autofocus]]"
    		inputmode$="[[item.inputmode]]"
    		minlength$="[[item.minlength]]"
    		maxlength$="[[item.maxlength]]"
    		min$="[[item.min]]"
    		max$="[[item.max]]"
    		step$="[[item.step]]"
    		placeholder$="[[item.placeholderB]]"
    		readonly$=[[item.readonly]]
    		list$="[[item.list]]"
    		size$="[[item.size]]"
    		autocapitalize=true
    		autocorrect=on
    		autosave=true
    		on-change="_onChange"
    		results$="[[item.results]]"
    		accept$="[[item.accept]]"
    		multiple$="[[item.multiple]]"
    		meta="{{item.inputMetaB}}"
    		fc-secondary-label$="[[item.fcSecondaryLabelB]]"
    		box$="[[item.boxB]]"
    		>
    		 -->
    
  		
    </fc-paper-input>