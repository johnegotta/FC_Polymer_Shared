<dom-module id="fc-input-proto">
<template>
<style>
:host{
	display: block;
	padding: 3px;
	margin: 3px;
	background: white;
	@apply(--vertical-layout-flex);

}
span.radio: {
	position: absolute;
	right: 0px;
	top: 10px;
	left: 8px;
	left-margin: 3px;
}
input{
	
	float: left;
	margin-right: 5px;
}



section[name=section1].text {
 border: 0px solid #999;

  font-family: merriweather;
  font-size: 18px;
  color: #008;
  font-weight: 700;
 
  padding: 8px;

}


iron-icon{display: none;}
input.text, input.datetime-local, input.date,  input.range,  .number, input.tel,  input.email{

  border: 0px solid #999;
  border-bottom: 2px solid #008;
  font-family: merriweather;
  font-size: 14pt;


 

}
section: {
	min-width: 147px;
	max-width: 420px;
	margin: auto;
	padding: auto;}
.wrapper{max-width: 360px;}
.wrapper-text-focus{

	color:  #00b33c;

}
input.text:focus, input.datetime-local:focus, input.date:focus,  input.range:focus,  .number:focus, input.tel:focus,  input.email:focus {
	border: 0px dashed #fff;
	outline: 0px;
	box-shadow:0px;
	border-bottom:2px solid #00b33c;
	color:  #brown;
	font-size: 14pt;
}
input[type=button]{
background: #efefef;
	min-width: 110px;
	height: 64px;
	color: black;
	outline: 0px;
	font-size: 22px;
	font-family: merriweather;
	font-weight: 500;

}
input[type=button]:hover, input[type=button]:active,{
	color: gold;
	font-weight: 700;
	outline: 2px solid silver;

	}
span[name=span1].button{
	color: black;
}
span[name=span4].checkbox{display: none; opacity: 0; visibility: none;}


iron-icon[name=icon]{display: block;}

/*icon3 moves to right of inputs*/

input.number{ border: 0px solid #999;
  border-bottom: .5px solid #008;
  font-family: merriweather;
  font-size: 24px;
  color: #008;
padding: 4px;}
.twocolumn{

}

/* CHECKBOXES*/
iron-icon[name=icon5].checkbox{display: inline-block;}
label.checkbox {
    display: inline-block;
    background: white;
   
    padding:2px;
    margin: 2px;
   }
input[type=checkbox]{
	outline:4px;
	
}
input[type=checkbox]{
    width : 24px;
    height: 24px;
    color: green;
    

}
input[type=checkbox]:checked{
   outline: 3px solid green;
   background: green;
   
}
.wrapper-checkbox-checked{
	color: green;
	font-weight: 700;
	padding-right: 10px;
	margin-right: 10px;
}
label.checkbox{
	font-size: 22px;
	padding-right: 4px;
	margin-right: 4px;
	@apply(--horizontal-layout)
}
/*radio buttons*/
input[type=radio]:checked {outline: 3px ridge green;}
label.radio{
	font-size: 22px;
}
label.radio.test{
font-size: 14pt;
}
input[type=radio]{
	outline: 0px;
	width: 24px;
	height: 24px;
}

input[type=radio]:checked+ label:checked, input[type=radio]:checked, {
	width: 24px;
	height: 24px;
	color: green;

}
</style>
	<section name="section0" class$="[[inputType]] [[_computeHorizontal(inputType)]] [[_computeLayout0(inputType,isIcon)]] [[horizontal]]">
[[value]]
		<iron-icon 
			name="icon0"
			
			class$="[[inputType]]"
			icon="[[icon0]]">
<!-- 			class$="[[computeStyles0(icon0)]]"  -->
		</iron-icon>
		<!-- 	[[inputType]] Section 0 -->
		<span 
			name="span1"
			class$="[[inputType]]" 
			hidden$="[[!_computeLayout1(inputType, icon1)]]"
			>
	<!-- 	span 1 [[inputType]]   -->
			<iron-icon 
				name="icon1"
				icon="[[icon1]]"
				class$="[[inputType]]" 
				hidden$="[[!icon1]]"
				>
			</iron-icon>
		
					</span>
			<!-- after span 1 before section 1 [[myInputName]]  -->
	<section 
		name="section1"
		class$="[[inputType]] [[_computeLayout2(icon2)]] [[horizontal]][[_computeHorizontal(inputType)]]">
			<!-- inside section 2 [[myInputName]] 2  -->

		<iron-icon 
			icon="[[icon2]]"
			class$="[[inputType]]"  
			hidden$="[[!icon2]]"
			name="icon2"
			> 

		</iron-icon>
		
	<span name="span2" class$="[[inputType]]" hidden$="[[!_computeLayout3(inputType, icon3)]]" for="[[myInputName]]"><!-- [[inputType]] 3A -->
		<iron-icon 
			name="icon3"
			icon="[[icon3]]" 
			class$="[[inputType]]" 
			hidden$="[[!icon3]]">
		<!-- 	class="[[_computeStyles3(icon3)]]" -->
		</iron-icon>
	</span>
<label id$="[[labelId]]" for$="[[inputId]]" class$="[[inputType]][[isTest]]">[[label]] </label>
	<input is="iron-input" id$="[[inputId]]" on-focus="doAnimation" on-blur="unDoAnimation" name$="[[_computeInputName(inputType, radioGroupNameFC, localName)]]" class$="[[inputType]]"  checked$="{{inputChecked}}" value="[[currentTime::value]]" type$="{{inputType}}" bind-value="{{value}}">
	<span 
		name="span4"
		class$="[[inputType]]" 
		>
	<!-- [[inputType]] --> 
		<iron-icon 
			name="icon4"
			icon="[[icon4]]"
			class$="[[inputType]]">
		</iron-icon>
	</span>

	<!-- [[myInputName]] 4.5 -->
	</section>
	<!-- [[myInputName]] 4.8 -->
	<span 
		name="span5"
		class$="[[inputType]]" 
		hidden$="[[!_computeLayout5(inputType, icon5)]]"
		>
		<!-- [[myInputName]] 5 -->
		<iron-icon 
			hidden$="[[!isIcon5]]" 
			icon="[[icon5]]"><!--class$="[[_computeStyles5(icon5)]]"-->
			
		</iron-icon>
	</span>
<!-- 	[[myInputName]] 6 -->
	<iron-icon 
			hidden$="[[!isIcon6]]" 
			icon="[[icon6]]">
			<!-- class$="[[_computeStyles6(icon6)]]" -->
			>
	</iron-icon>
</section>
</template>
<script>
Polymer({
	is: 'fc-input-proto',
	// listeners: {'change': '_removeColor'},
	properties: {
		inputId: {
			type: String,
			value: function(){
				var rndNum = new Date();
				var inputId = "inputId_" + rndNum.getTime().toString();
				return inputId;
				},
			notify: true,
			reflectToAttribute: true
			},
		labelId: {
			type: String,
			value: function(){
				var rndNum = new Date();
				var inputId = "labelId_" + rndNum.getTime().toString();
				return inputId;
				},
			notify: true,
			reflectToAttribute: true
			},
		isIcon5: {
			type: Boolean,
		 	value: true,
			notify: true
		 },
		 isIcon6: {
			type: Boolean,
		 	value: true,
			notify: true
		 },
		isTest: {
			type: String,
			notify: true
						//if is test, enter "test", will change font-size on radio buttons
		},
		inputType:{
			type: String,
			// observer: '_triggerInputTransformation',
			notify: true
		},
		localName:{
			type: String,
			value: function(){
				var rndNum = new Date();
				var localName="localName_" + rndNum.getTime().toString();
				return localName;
			},
			notify: true
		},
		label: {
		 	type: String,
		 	notify: true
		},
		horizontal:{
			type: String,
			computed: '_computeHorizontal(inputType)',
			notify: true,
			reflectToAttribute: true
	},
		buttonName: {
			type: String,
			value: function(){
				return "Titling";
			},
			notify: true,
			reflectToAttribute: true
		},
		icon0:{
			type:String,
			value: function(){
				return "icons:chrome-reader-mode";},
			notify: true
		},
		icon1:{
			type:String,
			value:function(){
				return "icons:today";},
			notify: true
		},
		icon2:{
			type:String,
			value:function(){
				return "icons:today";},
			notify: true
		},
		icon3:{
			type:String,
			notify: true,
			value:function(){
				return "icons:dashboard";},
			reflectToAttribute: true
		},
		icon4:{
			type:String,
			value:function(){
		 	return "icons:alarm-on";},
			notify: true
		},
		icon5:{
			type:String,
			value:function(){
				return "icons:spellcheck";},
			notify: true
		},
		icon6:{
			type:String,
			value:function(){
				return "icons:assessment";},
			notify: true
		},
		
		radioGroupNameFC: {
			type: String,
			value: function(){
				var rndNum = new Date();
				var radioGroupNameFC="thisRadioGroupName" + rndNum.getTime().toString();
				console.log(radioGroupNameFC);
				return radioGroupNameFC;
			},//move up to the controller
			notify: true	

		},
		hostAttribute: {
				value: {
					notify: true,
					reflectToAttribute: true,
				}
		},
		inputName:{
			type: String,
			computed: "_computeInputName(inputType, radioGroupNameFC, localName)",//localName Could be replaced with inputId
			notify: true,
			reflectToAttribute: true
		},
		
		isTimeStamp: {
			type: Boolean,
			notify: true
		},
		currentTime:{
			type: Date,
			computed: '_computeCurrentTime(isTimeStamp)',
			notify: true,
			reflectToAttribute: true

		}
		
		// inputObject: {
		// 	type: Object,
		// 	value: {
		// 				"formGroupName": "this.formGroup"
		// 				"isInThisRadioGroup": input.onValue,
		// 				"radioGroupName":this.radioGroupName,
		// 				"hasOtherFormSets":boolean
		// 				otherFormSets: Array
		// 				"hasUserId":boolean
		// 				userId:
		// 				hasFcId: boolean
		// 				fcid: 
		// 				userType: string,

		// 	}


		

	},

	ready: function(){
		if(this.inputType=="datetime-local"){
			{ var timestamp=new Date(); this.set("value",timestamp);
			this.value=timestamp;}

		}
		if(this.inputType==""){}
	},
	_computeCurrentTime: function(isTimeStamp){
		if(isTimeStamp==true){
		var timestamp=new Date();
		return timestamp;
		}
	},
	attached: function(){
		if(this.inputType=="button"){this.set("value",this.buttonName); this.set('icon4', false); this.set('label',"");}

	},
	_computeHorizontal: function (inputType){
		var layoutCheck = (inputType!=="radio"&&inputType!=="checkbox")?
			"layout vertical flex": "layout horizontal-layout";
		return layoutCheck;
	},
	

	_focusedValueChanged: function(){
		this.fire();

	},
	_computeLayout0: function(inputType, icon0){
		var returnClass = (icon0)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},

	_computeLayout1: function(inputType, icon1){
		var returnClass = (icon1)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout2: function(inputType, icon2){
		var returnClass = (icon2)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout3: function(inputType, icon3){
		var returnClass = (icon3)? inputType.toString() + " icon": inputType.toString();
		this.classList.add("icon");
		return returnClass; 
	},
	_computeLayout4: function(inputType, icon4){
		var returnClass = (icon4)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout5: function(inputType, icon5){
		var returnClass = (icon5)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_computeLayout6: function(inputType, icon6){
		var returnClass = (icon6)? inputType.toString() + " icon": inputType.toString();
		return returnClass; 
	},
	_removeColor: function(e){
		var elTarg = e.target;
		var labelId=this.labelId;
		(e.target.checked==false)?
				(Polymer.dom(label).classList.remove("wrapper-checkbox-checked") 
				 && elTarg.removeEventListener("change", this._removeColor, false)): console.log("we did a lot");
				
			},
			

	doAnimation: function(e){
		var wrapperId=this.labelId;
		var wrapper=document.getElementById(this.labelId);
		if(e.target.type=="text"|| e.target.type=="datetime-local"|| e.target.type== "date" || e.target.type== "range" || e.target.type== "number" || e.target.type=="tel" || e.target.type=="email"){
			Polymer.dom(wrapper).classList.add("wrapper-text-focus");
		}
		else if(e.target.type=="checkbox"){
			if(e.target.checked){Polymer.dom(wrapper).classList.add("wrapper-checkbox-checked");}
			else if(!e.target.checked){Polymer.dom(wrapper).classList.remove("wrapper-checkbox-checked");}
		}
		else if(e.target.type=="radio"){
			 // if(e.target.checked==true){
			 // 	Polymer.dom(wrapper).classList.add("wrapper-checkbox-checked");
			 // 	console.log("I am changing the color")
			 // 	var el = e.target;
			 // 	// this.async(el.addEventListener("change", this._removeColor, false), 450);
				
			}
		
	},
	
	

	unDoAnimation: function(){
		
	
	},

	_computeInputName: function(inputType, radioGroupNameFC, localName){
		var inputNameReturnValue = (inputType=="radio")?"frank": localName;
		return inputNameReturnValue;


	}




});
</script>
</dom-module>