<dom-module id="fc-inputs">
<style is="custom-style">
 :host {
      @apply(--layout-vertical);
    }

.main {
      @apply(--layout-flex);
      @apply(--layout-scroll);
    }

iron-icon {
      color: var(--google-light-blue-500);
    }

paper-icon-button {
        margin-left: 20px;
        display: block;
        width: 24px;
        height:24px;
        text-align: center;
      }
paper-material.alignmemtfc {
  max-width: 1450px;



}

paper-button.gold {
     background: #edc013;
     raised: true;
     border-radius: 11px;
     box-shadow: 6px 5px 2px #888888;
     font-weight: 800;
     color: #fff;
     margin: 8px;
     font-size: 11px;
     text-align: center;
     text-indent: 0px;
     min-width: 70px;
     padding: 0px;
}
paper-button.red {
     background: red;
     raised: true;
     border-radius: 11px;
     box-shadow: 6px 5px 2px #888888;
     font-weight: 800;
     color: #ffffff;
     margin: 8px;
     font-size: 11px;
     text-align: center;
     text-indent: 0px;
     min-width: 70px;
     padding: 0px;
}
paper-button.green {
     background: green;
     raised: true;
     border-radius: 11px;
     box-shadow: 6px 5px 2px #888888;
     font-weight: 700;
     color: #fff;
     margin: 8px;
     font-size: 11px;
     text-align: center;
     text-indent: 0px;
     min-width: 70px;
     padding: 0px;
     }
fc-paperInput {
	display: inline;
	max-width: 138px;
	padding: 6px 6px 8px 6px;
     font-size: 11px;
}


.adjust2{
     display: inline;
     margin:12px 16px 2px 8px;;
}

paper-textarea.textareaannoyed{
     width:219.9px;
     height: 66px;
     display: inline-block;
     overflow-y: scroll;
     margin-top: 6px;
     }
}

.alignmentfc{
margin-left: 36px;


}
</style>
<template>
     <firebase-document id="FBcalls" location="focusedstaging1.firebaseio.com/calls" data="{{calls}}">
     </firebase-document>
      <div id="total" class="horizontal layout flex wrap container">  
      <paper-material id="total" class="horizontal layout flex wrap container alignmemtfc">  
                                   <div class="vertical layout wrap adjust2">
                                        <div><paper-button class="green" on-tap="addCall"> Register </paper-button></div>
                                        <div><paper-button class="gold" on-tap="addCall">Add Call</paper-button></div>
                                   </div>
          <div class="horizontal layout flex wrap">
               <iron-form id="fcInputsForm" name="fcInputsForm">  
                              <div class="horizontal layout flex wrap">
                                   <div class="horizontal layout wrap linear">
                                             <fc-paperInput id="fcInp1" name="firstname" tab-index="-1" label="Inquirer First Name" placeholder="First Name" value="{{inquirer.firstname}}">
                                             </fc-paperInput>  
                                             <fc-paperInput id="fcInp2" name="lastname" label="Inquirer Last Name" placeholder="Last Name" value="{{inquirer.lastname}}"></fc-paperInput>
                                               <span>  &nbsp</span>
                                   </div>

                                        <span>  &nbsp</span>
                                        <div class="horizontal layout wrap linear">
                                             <fc-paperInput id="fcInp3" name="studentfirstname" label="Student Name" placeholder="First Name" value="{{inquirer.studentfirstname}}">
                                             </fc-paperInput> 
                                                  &nbsp
                                             <fc-paperInput id="fcInp4" name="studentlastname" label="Student Name" placeholder="Last Name" value="{{inquirer.studentlastname}}">
                                             </fc-paperInput>  
                                                  &nbsp
                                        </div>
                                         <span>   &nbsp </span>
                                        <div class="horizontal layout wrap linear">
                                             <fc-paperInput id="fcInp5" name="firstThroughTwelfth" placeholder="Grade Level" label="Current Grade" value="{{inquirer.grade}}"></fc-paperInput>
                                              <span>   &nbsp </span> 

                                             <fc-paperInput id="fcInp6" name="schoolname" label="Current School" placeholder="School Name" value="{{inquirer.school}}"></fc-paperInput>
                                     </div>
                                             
                                        <div class="horizontal layout wrap linear">
                                             <fc-paperInput id="fcInp7" name="townname" label="School Location" placeholder="City, State" value="{{inquirer.schooltown}}">
                                             </fc-paperInput>
                                                 <span>   &nbsp </span>
                                             <fc-paperInput id="fcInp10" name="inquirerrole" placeholder="Caller Role" label="Parent/Student" value="{{inquirer.role}}"> 
                                             </fc-paperInput>
                                                  &nbsp 
                                        </div>
                                         <span>   &nbsp </span><br><br>
                                        <div class="horizontal layout wrap linear">
                                             <fc-paperInput id="fcInp8" name="phone" label="Inquirer Phone" placeholder="Phone" value="{{inquirer.phone}}">
                                             </fc-paperInput>  
                                                   <span>   &nbsp </span>
                                             <fc-paperInput id="fcInp9" name="email" label="Inquirer Email" placeholder="Email" value="{{inquirer.email}}">
                                             </fc-paperInput> 
                                               <span>   &nbsp </span>
                                        </div>
                                         <span>   &nbsp </span>
                                         <div class="horizontal layout wrap linear">
                                             <fc-paperInput id="fcInp11" name="nameofprogram" value="{{inquirer.interest}}" label="Focused Program" placeholder="Program Name">
                                             </fc-paperInput>
                                                 <span> &nbsp </span>
                                             <fc-paperInput id="fcInp12" name="startdate" value="{{inquirer.intereststartdate}}" label="Program Start Date" placeholder="Start Date">
                                             </fc-paperInput>
                                               
                                        </div>
                                         <span>   &nbsp </span>
                                        <div class="horizontal layout wrap linear">
                                             <fc-paperInput id="fcInp14" name="price" label="Program Price" placeholder="Price" value="{{inquirer.interestprice}}"></fc-paperInput>
                                                <span>  &nbsp </span>
                                             <fc-paperInput label="Prefered Coach" placeholder="Coach`s Name" id="fcInp13" name="coach" value="{{inquirer.coach}}">
                                             </fc-paperInput>
                                              <span>  &nbsp </span>
                                        </div>
                                         <span>  &nbsp </span>
                               
                                
                                   <div class="horizontal layout" id="messagezone">
                                        <paper-textarea label="Message" id="fcInp15" name="message" value="{{inquirer.message}}" always-float-label="true" placeholder= "Additional Information" class="textareaannoyed" maxlength="360" rows="1">
                                        </paper-textarea>
                                   </div>
                              </div>
                        
               </iron-form>
          </div>
          

     </paper-material>
          <div  class="vertical layout wrap adjust2">
               <paper-button class="red" on-tap="clearInputs"> Clear </paper-button>
                <div id="messagezone"></div>
          </div>  
</div>  
</template>
<script> 
Polymer({
	is: "fc-inputs",
	properties:{
	    inquirer: {
               type: Object,
               value:{
                    firstname: '', 
                    lastname: '', 
                    email: '', 
                    phone:'', 
                    studentfirstname: '', 
                    studentlastname: '', 
                    relatedstudent: '', 
                    message: '',
                    coach:'', 
                    timestamp: '', 
                    grade: '', 
                    school:'', 
                    schooltown:'', 
                    interest:'', 
                    interestprice: '',
                    intereststartdate: '', 
                    callbacktime: '', 
                    dateorder: '', 
                    ccInfo: '',
                    role: '', 
                    notify: true
                    
               },
               notify: true 

          },
          clock: {
               type: Object
          }
},
     observers: [
        'inquirerObserver(inquirer.firstname, inquirer.lastname, inquirer.email, inquirer.phone, inquirer.studentfirstname, inquirer.studentlastname, inquirer.role, inquirer.interest, inquirer.timestamp, inquirer.message)'
      ],

     attached: function(){
         var c = new FcClockObj("inputclock");
          this.$.messagezone.appendChild(c);
     },

     inquirerObserver: function(first, last, email, phone, studentfirstname, studentlastname, role, interest, timestamp, message){
		var shadowInquirer = {
          "firstname": first, 
          "lastname": last, 
          "email": email, 
          "phone": phone,
          "studentfirstname":studentfirstname, 
          "studentlastname": studentlastname, 
          "role": role, 
          "interest": interest, 
          "timestamp": timestamp,
          "message": message
          };
	
          this.fire("searchInquiries", shadowInquirer);
		   console.log(first.toString() + " " + " " + "just fired inputChanged event." + " for " + JSON.stringify(shadowInquirer).toString());
	},

  addCall: function(){  
    var rawtime= new Date();
    var callbackTime = new Date();
    callbackTime.setDate(rawtime.getDate() + 2);
    callbackTime = callbackTime.toString().slice(0, 21);
    var time = rawtime.toString().slice(0, 21);
    var order=-event.timeStamp;
          this.inquirer.timestamp = time;
          this.inquirer.timeorder = order;
          this.inquirer.callbacktime = callbackTime;
    
     if(this.inquirer.firstname == '' || this.inquirer.lastname == ''){
      alert("First and last name are required before adding call.");
      return;
    }
     if(this.inquirer.email == '' && this.inquirer.phone == ''){
      alert("Must supply either phone number or email before adding call.");
      return;
    }

          this.inquirer.relatedstudent = this.inquirer.studentfirstname + " " + this.inquirer.studentlastname + " ";
          this.$.FBcalls._setRemoteDocumentChild(order, this.inquirer);

       
          fcInp1.value = this.inquirer.firstname = "";
          fcInp2.value = this.inquirer.lastname = "";
          fcInp3.value = this.inquirer.email = "";
          fcInp4.value = this.inquirer.phone = "";
          fcInp5.value = this.inquirer.studentfirstname = "";
          fcInp6.value = this.inquirer.studentlastname = "";
          fcInp7.value = this.inquirer.relatedstudent = "";
          fcInp8.value = this.inquirer.timestamp = "";
          fcInp9.value = this.inquirer.callbacktime = "";
          fcInp10.value = this.inquirer.timeorder = "";
          fcInp11.value = this.inquirer.grade = "";
          fcInp12.value = this.inquirer.coach = "";
          fcInp13.value = this.inquirer.school = "";
          fcInp14.value = this.inquirer.message = "";
          fcInp15.value = this.inquirer.role = "";
      
     },

  clearInputs: function(){
          fcInp1.value = this.inquirer.firstname = "";
          fcInp2.value = this.inquirer.lastname = "";
          fcInp3.value = this.inquirer.email = "";
          fcInp4.value = this.inquirer.phone = "";
          fcInp5.value = this.inquirer.studentfirstname = "";
          fcInp6.value = this.inquirer.studentlastname = "";
          fcInp7.value = this.inquirer.relatedstudent = "";
          fcInp8.value = this.inquirer.timestamp = "";
          fcInp9.value = this.inquirer.callbacktime = "";
          fcInp10.value = this.inquirer.timeorder = "";
          fcInp11.value = this.inquirer.grade = "";
          fcInp12.value = this.inquirer.coach = "";
          fcInp13.value = this.inquirer.school = "";
          fcInp14.value = this.inquirer.message = "";
          fcInp15.value = this.inquirer.role = "";
  }
});
</script>
</dom-module>

