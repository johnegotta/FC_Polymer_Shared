<dom-module id="fc-call-list-tube">


<template>

<style>
:host{

line-height: 1.6;
background: white;
};

:host .highlighted{background-color: pink;};
.cardbody {
  border-right: 2px solid lightgrey;
  border-left: 6px solid t;
  padding: 4px 0px 4px 4px;
  display: block;
  width: 680px;
}
    .commands {
  width: 30px;
}
:host{hig;

iron-icon {
      color: var(--google-blue-500);
      padding: 5px 0px 5px 0px;
      width: 20px;
      height: 20px;
    }

cards.paper-material{
  padding: 10px 0px 10px 10px;
  margin: 10px 10px 10px 8px;  
}
.border-alert-closed {
  width: 8px;
  max-height: 500px;
  margin-top: 10px;
  margin-bottom: 10px;
  background: -webkit-linear-gradient(bottom, green); /* For Safari 5.1 to 6.0 */
  background: -o-linear-gradient(top, green); /* For Opera 11.1 to 12.0 */
  background: -moz-linear-gradient(top, green); /* For Firefox 3.6 to 15 */
  background: linear-gradient(to top, green); /* Standard syntax */
}

.border-alert-one {
  width: 8px;
  max-height: 500px;
  margin-top: 10px;
  margin-bottom: 10px;
  background: -webkit-linear-gradient(bottom, green, limegreen); /* For Safari 5.1 to 6.0 */
  background: -o-linear-gradient(top, green, limegreen); /* For Opera 11.1 to 12.0 */
  background: -moz-linear-gradient(top, green, limegreen); /* For Firefox 3.6 to 15 */
  background: linear-gradient(to top, green, limegreen); /* Standard syntax */

}

.border-alert-two {
  width: 8px;
  max-height: 500px;
  margin-top: 10px;
  margin-bottom: 10px;
  background: -webkit-linear-gradient(bottom, limegreen, #ccff00); /* For Safari 5.1 to 6.0 */
  background: -o-linear-gradient(top, limegreen, #ccff00); /* For Opera 11.1 to 12.0 */
  background: -moz-linear-gradient(top, limegreen, #ccff00); /* For Firefox 3.6 to 15 */
  background: linear-gradient(to top, limegreen, #ccff00); /* Standard syntax */
}

.border-alert-three {
width: 8px;
  max-height: 500px;
  margin-top: 10px;
  margin-bottom: 10px;
  background: -webkit-linear-gradient(bottom, #ccff00, #ffff66); /* For Safari 5.1 to 6.0 */
  background: -o-linear-gradient(top, #ccff00 , #ffff66); /* For Opera 11.1 to 12.0 */
  background: -moz-linear-gradient(top, #ccff00 , #ffff66); /* For Firefox 3.6 to 15 */
  background: linear-gradient(to top,#ccff00 , #ffff66); /* Standard syntax */
}
.border-alert-four {
width: 8px;
  max-height: 500px;
  margin-top: 10px;
  margin-bottom: 10px;
  background: -webkit-linear-gradient(bottom, #ffff66, #FF9900); /* For Safari 5.1 to 6.0 */
  background: -o-linear-gradient(top,  #ffff66, #FF9900); /* For Opera 11.1 to 12.0 */
  background: -moz-linear-gradient(top, #ffff66, #FF9900); /* For Firefox 3.6 to 15 */
  background: linear-gradient(to top, #ffff66, #FF9900); /* Standard syntax */
}
.border-alert-five {
  width: 8px;
  max-height: 500px;
  margin-top: 10px;
  margin-bottom: 10px;
  background: -webkit-linear-gradient(bottom, #FF9900, #FFCC33); /* For Safari 5.1 to 6.0 */
  background: -o-linear-gradient(top, #FF9900, #FFCC33); /* For Opera 11.1 to 12.0 */
  background: -moz-linear-gradient(top, #FF9900, #FFCC33); /* For Firefox 3.6 to 15 */
  background: linear-gradient(to top, #FF9900, #FFCC33); /* Standard syntax */
}
.border-alert-six {
  width: 8px;
  max-height: 500px;
  margin-top: 10px;
  margin-bottom: 10px;
  background: -webkit-linear-gradient(bottom, #FFCC33, red); /* For Safari 5.1 to 6.0 */
  background: -o-linear-gradient(top, #FFCC33, red); /* For Opera 11.1 to 12.0 */
  background: -moz-linear-gradient(top, #FFCC33, red); /* For Firefox 3.6 to 15 */
  background: linear-gradient(to top, #FFCC33, red); /* Standard syntax */
}


br{
   text-indent: 20px;
}  
b {color: #000066;

}


</style>
        <paper-material elevation='4' fit class="layout horizontal cards" style="box-shadow: 0px -5px 20px #e9e7e3 inset; border-radius: 16px; width: 770px; max-height: 500px; padding: 5px;">
            <div class="horizontal layout container">
            <content select="section">


            </content>
              <div class$="{{alertClass}}" id="colorWarning">
              </div>
              <div class="cardbody">
                  <div primary style="text-overflow: normal;" id="catcher" on-tap="notHidden">
                   
                      <b><span>{{data.timestamp}}</span></b>
                      <u>Caller</u>: <b><span>{{data.firstname}}</span> <span>{{data.lastname}}</span></b> 
                      <u>Student</u>: <b><span>{{data.relatedstudent}}</span></b>
                  
                    <div secondary id="crocodile" class="horizontal layout wrap" style="line-height: 70%; max-height: 190px; color: black;" hidden>
                    <section class="vertical layout wrapper">
                      <br><span style="text-indent: 12px;"><u>Hometown</u>: <span>{{data.schooltown}}</span></span>
                      <br><span style="text-indent: 12px;"><u>Callback</u>: <span>{{data.callbacktime}}</span></span>
                      <br><span style="text-indent: 12px;"><u>Course</u>: <span>{{data.interest}}</span></span>
                      <br><span style="text-indent: 12px;"><u>Coach</u>: <span>{{data.coach}}</span></span>
                      <br><span style="text-indent: 12px;"><u>Payment Due</u>: <span>{{data.interestprice]</span></span>
                      <br><span style="text-indent: 12px;"><u>StartDate</u>: <span>{{data.callbacktime}}</span>
                      </span>
                      <br>
                    </section>
                    <section class="vertical layout wrapper">
                    <br><span style="text-indent: 20px;"><u>Start Score</u>: <span>{{data.grade}}</span></span>
                      <br><span style="text-indent: 20px;"><u>Tests</u>: <span>{{data.school}}</span></span>
                      <br><span style="text-indent: 20px;"><u>Score</u>: <span>{{data.schooltown}}</span></span>
                      <br><span style="text-indent: 20px;"><u>Deltas</u>: <span>{{data.interest}}</span></span>
                      <br><span style="text-indent: 20px;"><u>Hwk %</u>: <span>{{data.coach}}</span></span>
                      <br><span style="text-indent: 20px;"><u>ROI +/-</u>: <span>{{data.interestprice}}</span></span>
                      <br><span style="text-indent: 20px;"><u>To Do</u>: <span>{{data.callbacktime}}</span></span>
                    </section>
                  </div>
                </div>
                  <div secondary>
                      <div style="overflow-x:scroll;">       
                       <u>Phone</u>:<b><span>{{data.phone}}</span></b>&nbsp
                       <u>Email</u>: <u><b><span>{{data.email}}</span></b></u>
                      </div>
                 
                  <div id="additionalInformation" on-tap="alsoNotHidden" secondary style="height: 24px; max-width: 580px; overflow: hidden; padding: 0px 10px 8px 0px">
                      <b>Additional Information:</b>: 
                      <span>{{data.message}}</span>
                  </div>
              </div>  
            </div>
              <content select="div">
                    

              </content>
          </div>
      </paper-material>  
</template>
<script>
  Polymer({
   is: 'fc-call-list-tube',
    properties: {
      alertClass: {
        type: String,
        notify: true, 
        reflectToAttributes: true
      },
      inquiry: {
        type: Object, 
        value: {
          firstname: String,
          lastname: String,
          studentfirstname: String,
          studentlastname: String,
          email: String, 
          phone: String,
          notify: true,
          reflectToAttributes: true
        },
        notify: true,
        reflectToAttributes: true
      },
      data:{
         type: Object,
         value: {
               firstname: String, 
               lastname: String, 
               email: String, 
               phone:String, 
               studentfirstname: String, 
               studentlastname: String, 
               relatedstudent: String, 
               message: String, 
               coach:String, 
               grade: String, 
               school:String, 
               schooltown:String, 
               interest:String, 
               interestprice: String,
               intereststartdate: String, 
               role: String,
               fcid: String, 
               timeorder: Number,
               closed: Boolean,
               notify: true,
               reflectToAttributes: true 
               },
          notify: true,
          reflectToAttributes: true
          },
      headerTitle: {
       type: String,
       reflectToAttributes: true,
       notify: true
      },
      dataType: String,
      animationConfig: {
        value: function() {
          return {
            'entry': [{
              name: 'ripple-animation',
              id: 'ripple',
              toPage: this
            }, {
              name: 'fade-out-animation',
              node: this.$.placeholder,
              timing: {
                delay: 0
              }
            }, {
              name: 'fade-in-animation',
              node: this.$.container,
              timing: {
                delay: 200,
                duration: 200
              }
            }],

            'exit': [{
              name: 'opaque-animation',
              node: this.$.placeholder
            }, {
              name: 'fade-out-animation',
              node: this.$.container,
              timing: {
                duration: 200
              }
            }, {
              name: 'reverse-ripple-animation',
              id: 'reverse-ripple',
              fromPage: this
            }]
          };
      },


      sharedElements: {
        value: function() {
          return {
            'ripple': this.$.placeholder,
            'reverse-ripple': this.$.placeholder
          };
        }
      }
    },
      notify: true,
      reflectToAttributes: true
    },

    attached: function(){
          this.dataType = "Inquiry";
          var currentTime = event.timeStamp;
          var delta = this.data.timeorder + currentTime;
        
          if (this.data.closed == true){
            this.alertClass = "border-alert-closed";
          }

          else if (this.data.closed !== true &&  delta > 5000 && delta < 1000000000)  {
          this.alertClass = "border-alert-one";
      
        
              }
          else if (this.data.closed != true && delta > 1000000001 && delta < 14000000000)
          {
            this.alertClass = "border-alert-two";

          }
          else if (this.data.closed != true && delta > 14000000000 && delta < 54000000000)
            {
              this.alertClass = "border-alert-three";  
          
            }
          else if (this.data.closed != true && delta > 54000000000 && delta < 180000000000){
            this.alertClass = "border-alert-four";  
           
          }
          else if (this.data.closed != true && delta > 180000000000 && delta < 210000000000){
            this.alertClass = "border-alert-five";  
           
          }
          else {
            this.alertClass = "border-alert-six";  
          }
       

        },


    notHidden: function(){
      this.$.crocodile.hidden=!this.$.crocodile.hidden;

    },

    alsoNotHidden: function(e){
      var elem = e.target;
      var overflow = elem.style.overflow;
      var tallness = elem.style.height;
          console.log(this.$.additionalInformation.style.overflow + " and the value of height " + this.$.additionalInformation.style.height);
      if (elem.style.overflow == 'hidden' && elem.style.height == "24px") {
          elem.style.overflow = 'normal';
          elem.style.height = "200px";
          
      }
     else {
        elem.style.overflow = 'hidden'; 
        elem.style.height = "24px";
        }
     }

  });
</script>
</dom-module>

  <!--    console.log(e.model);
      var x = e.model._nodes[11];
      console.log(x);// = !(e.model.item.$.crocodile.hidden);
      //var elem = document.querySelector("#" + x);
      x.hidden = !x.hidden;
//      this.$.crocodile.hidden = !this.$.crocodile.hidden;
    }-->