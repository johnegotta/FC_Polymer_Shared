<dom-module id="fc-grid">
<template>
<style is="custom-style">
.grid-box{
  width: 300px;
  height: 480px;
  padding: 3px;
  margin: 3px;
  display: block;
  color: black;
  background: white;
  overflow-x: hidden;
}

.grid-image{
    float: left;
    padding: 3px;
    height: 72px;
    color: black;
    width: 73px;
    background: aliceblue;
    display: block;

}
.grid-holder{
  width: calc(95%-85px);
  max-height: calc(98vh-64px);
  overflow: scroll;
}

</style>
  <div class="vertical layout wrap grid-holder">
    <div class="horizontal layout wrap">
      <template is="dom-repeat" items="{{griditemArray}}">
        <fc-cell-creator draggable="true" holder='{{holder}}' input='{{item.name}}' fclabel='[[index]]'></fc-cell-creator>
      </template>
      
    </div>
  </div>
    
</template>
<script>
Polymer({
  is:"fc-grid",
  properties: {
    defaultPath: "",
    pathOne: String, 
    pathTwo: String, 
    gridWidthPx: Number, 
    gridHeightPx: Number,
    scrollX: Boolean,
    scrollY: Boolean,
    isDnD: Boolean,
    fillViewPort: Boolean,
    gridImageOne: String,
    gridImageTwo: String,
    griditemnumber: {
        type: Number,
        notify: true,
        reflectToAttributes: true
      },
    griditemArray: {
      value: Array,
      notify: true,
      reflectToAttributes: true
    },
    reflectToAttributes: true,
    notify: true
  },
created: function (){
  
},

ready: function(){
  var mql = window.matchMedia("screen and (min-width: 601px) and (max-width: 800px");
  var mqlone = window.matchMedia("screen and (min-width: 801px) and (max-width: 1200px");
  var mgltwo = window.matchMedia("screen and (min-width: 1201px) and (max-width: 1600px");
  var mglthree = window.matchMedia("screen and (min-width: 1601px) and (max-width: 1900px");
  var mglfour = window.matchMedia("screen and (min-width: 1901px)");
  if (mglfour.matches){ // if media query matches
      this.gridWidthPx= 1400 + 'px';
      this.gridHeightPx= 1200 +'px';
      var numbcols = Math.round(1400/115);
      var numbrows = Math.round(1200/54);
      var total = numbcols*numbrows;
      var counter = 0; 
      for(counter=0; counter < total; counter++){
        //this.griditemArray[counter] = {'name': counter};
        this.griditemArray[counter].name = "the value of name " + counter;
        this.push('griditemArray', {name: "the value of name " + counter});
        console.log("this is the grid item counter in the grid element at ready " + JSON.stringify(this.griditemArray[counter]));
        console.log("this is the grid item name in the grid element at ready " + this.griditemArray[counter].name);
        this.griditemnumber=this.griditemArray[counter].name;
        console.log("this is the grid number at ready in the grid " + this.griditemnumber);
      }
    }
  else {
      this.gridWidthPx = 770 + 'px';
      this.gridHeightPx = 1200 + 'px';
      var numbcols = Math.round(800/115);
      var numbrows = Math.round(1200/54);
      var total = numbcols*numbrows;
      var counter = 0; 
      for(counter=0; counter < total; counter++){
        //this.griditemArray[counter] = {'name': counter};
        this.griditemArray[counter].name = "the value of name " + counter;
        this.push('griditemArray', {name: "the value of name " + counter});
        console.log("this is the grid item counter in the grid element at ready " + JSON.stringify(this.griditemArray[counter]));
        console.log("this is the grid item name in the grid element at ready " + this.griditemArray[counter].name);
        this.griditemnumber=this.griditemArray[counter].name;
        console.log("this is the grid number at ready in the grid " + this.griditemnumber);
      }
    }

},

attached: function (){
   
 
},

handleDragStart: function(e) {
      e.dataTransfer.setData("fcdata", JSON.stringify(e.model.item));
      console.log("drag begun for ");
      console.log(e.model.item);
    }, 

allowDrop: function (e) {
      e.preventDefault();
      console.log("drag over");
    },







});
</script>
</dom-module>